import{b as fd,c as md,f as w_,g as pd}from"./chunk-AQT7K737.js";import{$ as es,$a as Fr,A as Qn,Aa as we,Ab as ci,B as Kt,Ba as We,Bb as dd,C as Vo,Ca as Ql,Cb as ud,D as $l,Da as Xl,Db as Qo,E as Bl,Ea as oe,Eb as hd,F as zl,Fa as ss,G as Dr,Ga as Ar,H as ut,Ha as pe,I as Ot,Ia as Or,J as Ie,Ja as Be,K as ue,Ka as ni,L as B,La as k,M as he,Ma as D,N as Hl,Na as ve,O as Q,Oa as Fe,P as Yo,Pa as Ne,Q as U,Qa as ze,R as O,Ra as si,S as Rr,Sa as ji,T as X,Ta as et,U as fe,Ua as be,V as W,Va as yt,W as xr,Wa as tt,X as Vl,Xa as it,Y as Xn,Ya as F,Z as Ft,Za as Ui,_ as Nt,_a as Pe,a as Uo,aa as ts,ab as Le,b as Nl,ba as $e,bb as ee,c as $o,ca as Er,cb as os,d as Bo,da as Ir,db as Nr,e as br,ea as Yl,eb as ke,f as Oe,fa as Ye,fb as De,g as Ue,ga as me,gb as as,h as qt,ha as is,hb as ed,i as dt,ia as Ce,ib as td,j as L,ja as Wl,jb as Go,k as Sr,ka as rs,kb as Ko,l as Pi,la as ql,lb as id,m as Pl,ma as ri,mb as oi,n as Z,na as Wo,nb as ai,o as Cr,oa as Tr,ob as rd,p as Xe,pa as Gl,pb as je,q as Jn,qa as Mr,qb as Zo,r as zo,ra as N,rb as nd,s as ii,sa as A,sb as sd,t as Ll,ta as qo,tb as ae,u as Li,ua as vt,ub as Jo,v as kr,va as Kl,vb as cs,w as jl,wa as ns,wb as od,x as Ho,xa as Zl,xb as ad,y as Gt,ya as Pt,yb as cd,z as Ul,za as Jl,zb as ld}from"./chunk-YNUX4CTZ.js";import{a as E,b as se,c as Zn,f as lt,h as jo,i as y_,j as v}from"./chunk-TWZW5B45.js";var dc=lt((lc,Xi)=>{"use strict";(function(r,i){typeof lc=="object"&&typeof Xi<"u"?Xi.exports=i():typeof define=="function"&&define.amd?define(i):r.moment=i()})(lc,function(){"use strict";var r;function i(){return r.apply(null,arguments)}function e(s){r=s}function t(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}function n(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}function o(s,a){return Object.prototype.hasOwnProperty.call(s,a)}function c(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var a;for(a in s)if(o(s,a))return!1;return!0}function u(s){return s===void 0}function h(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}function m(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}function p(s,a){var l=[],d,f=s.length;for(d=0;d<f;++d)l.push(a(s[d],d));return l}function _(s,a){for(var l in a)o(a,l)&&(s[l]=a[l]);return o(a,"toString")&&(s.toString=a.toString),o(a,"valueOf")&&(s.valueOf=a.valueOf),s}function w(s,a,l,d){return hl(s,a,l,d,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(s){return s._pf==null&&(s._pf=b()),s._pf}var T;Array.prototype.some?T=Array.prototype.some:T=function(s){var a=Object(this),l=a.length>>>0,d;for(d=0;d<l;d++)if(d in a&&s.call(this,a[d],d,a))return!0;return!1};function I(s){var a=null,l=!1,d=s._d&&!isNaN(s._d.getTime());if(d&&(a=S(s),l=T.call(a.parsedDateParts,function(f){return f!=null}),d=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&l),s._strict&&(d=d&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=d;else return d;return s._isValid}function j(s){var a=w(NaN);return s!=null?_(S(a),s):S(a).userInvalidated=!0,a}var ce=i.momentProperties=[],le=!1;function Te(s,a){var l,d,f,g=ce.length;if(u(a._isAMomentObject)||(s._isAMomentObject=a._isAMomentObject),u(a._i)||(s._i=a._i),u(a._f)||(s._f=a._f),u(a._l)||(s._l=a._l),u(a._strict)||(s._strict=a._strict),u(a._tzm)||(s._tzm=a._tzm),u(a._isUTC)||(s._isUTC=a._isUTC),u(a._offset)||(s._offset=a._offset),u(a._pf)||(s._pf=S(a)),u(a._locale)||(s._locale=a._locale),g>0)for(l=0;l<g;l++)d=ce[l],f=a[d],u(f)||(s[d]=f);return s}function Me(s){Te(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),le===!1&&(le=!0,i.updateOffset(this),le=!1)}function ye(s){return s instanceof Me||s!=null&&s._isAMomentObject!=null}function Bc(s){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+s)}function Ze(s,a){var l=!0;return _(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,s),l){var d=[],f,g,y,R=arguments.length;for(g=0;g<R;g++){if(f="",typeof arguments[g]=="object"){f+=`
[`+g+"] ";for(y in arguments[0])o(arguments[0],y)&&(f+=y+": "+arguments[0][y]+", ");f=f.slice(0,-2)}else f=arguments[g];d.push(f)}Bc(s+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),l=!1}return a.apply(this,arguments)},a)}var zc={};function Hc(s,a){i.deprecationHandler!=null&&i.deprecationHandler(s,a),zc[s]||(Bc(a),zc[s]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function pt(s){return typeof Function<"u"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}function bf(s){var a,l;for(l in s)o(s,l)&&(a=s[l],pt(a)?this[l]=a:this["_"+l]=a);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function lo(s,a){var l=_({},s),d;for(d in a)o(a,d)&&(n(s[d])&&n(a[d])?(l[d]={},_(l[d],s[d]),_(l[d],a[d])):a[d]!=null?l[d]=a[d]:delete l[d]);for(d in s)o(s,d)&&!o(a,d)&&n(s[d])&&(l[d]=_({},l[d]));return l}function uo(s){s!=null&&this.set(s)}var ho;Object.keys?ho=Object.keys:ho=function(s){var a,l=[];for(a in s)o(s,a)&&l.push(a);return l};var Sf={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Cf(s,a,l){var d=this._calendar[s]||this._calendar.sameElse;return pt(d)?d.call(a,l):d}function gt(s,a,l){var d=""+Math.abs(s),f=a-d.length,g=s>=0;return(g?l?"+":"":"-")+Math.pow(10,Math.max(0,f)).toString().substr(1)+d}var fo=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,mo={},xi={};function M(s,a,l,d){var f=d;typeof d=="string"&&(f=function(){return this[d]()}),s&&(xi[s]=f),a&&(xi[a[0]]=function(){return gt(f.apply(this,arguments),a[1],a[2])}),l&&(xi[l]=function(){return this.localeData().ordinal(f.apply(this,arguments),s)})}function kf(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}function Df(s){var a=s.match(fo),l,d;for(l=0,d=a.length;l<d;l++)xi[a[l]]?a[l]=xi[a[l]]:a[l]=kf(a[l]);return function(f){var g="",y;for(y=0;y<d;y++)g+=pt(a[y])?a[y].call(f,s):a[y];return g}}function Mn(s,a){return s.isValid()?(a=Vc(a,s.localeData()),mo[a]=mo[a]||Df(a),mo[a](s)):s.localeData().invalidDate()}function Vc(s,a){var l=5;function d(f){return a.longDateFormat(f)||f}for(Tn.lastIndex=0;l>=0&&Tn.test(s);)s=s.replace(Tn,d),Tn.lastIndex=0,l-=1;return s}var Rf={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function xf(s){var a=this._longDateFormat[s],l=this._longDateFormat[s.toUpperCase()];return a||!l?a:(this._longDateFormat[s]=l.match(fo).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[s])}var Ef="Invalid date";function If(){return this._invalidDate}var Tf="%d",Mf=/\d{1,2}/;function Af(s){return this._ordinal.replace("%d",s)}var Of={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ff(s,a,l,d){var f=this._relativeTime[l];return pt(f)?f(s,a,l,d):f.replace(/%d/i,s)}function Nf(s,a){var l=this._relativeTime[s>0?"future":"past"];return pt(l)?l(a):l.replace(/%s/i,a)}var Yc={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Je(s){return typeof s=="string"?Yc[s]||Yc[s.toLowerCase()]:void 0}function po(s){var a={},l,d;for(d in s)o(s,d)&&(l=Je(d),l&&(a[l]=s[d]));return a}var Pf={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Lf(s){var a=[],l;for(l in s)o(s,l)&&a.push({unit:l,priority:Pf[l]});return a.sort(function(d,f){return d.priority-f.priority}),a}var Wc=/\d/,Ve=/\d\d/,qc=/\d{3}/,go=/\d{4}/,An=/[+-]?\d{6}/,te=/\d\d?/,Gc=/\d\d\d\d?/,Kc=/\d\d\d\d\d\d?/,On=/\d{1,3}/,_o=/\d{1,4}/,Fn=/[+-]?\d{1,6}/,Ei=/\d+/,Nn=/[+-]?\d+/,jf=/Z|[+-]\d\d:?\d\d/gi,Pn=/Z|[+-]\d\d(?::?\d\d)?/gi,Uf=/[+-]?\d+(\.\d{1,3})?/,hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ii=/^[1-9]\d?/,vo=/^([1-9]\d|\d)/,Ln;Ln={};function x(s,a,l){Ln[s]=pt(a)?a:function(d,f){return d&&l?l:a}}function $f(s,a){return o(Ln,s)?Ln[s](a._strict,a._locale):new RegExp(Bf(s))}function Bf(s){return kt(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,l,d,f,g){return l||d||f||g}))}function kt(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(s){return s<0?Math.ceil(s)||0:Math.floor(s)}function V(s){var a=+s,l=0;return a!==0&&isFinite(a)&&(l=Qe(a)),l}var yo={};function J(s,a){var l,d=a,f;for(typeof s=="string"&&(s=[s]),h(a)&&(d=function(g,y){y[a]=V(g)}),f=s.length,l=0;l<f;l++)yo[s[l]]=d}function fr(s,a){J(s,function(l,d,f,g){f._w=f._w||{},a(l,f._w,f,g)})}function zf(s,a,l){a!=null&&o(yo,s)&&yo[s](a,l._a,l,s)}function jn(s){return s%4===0&&s%100!==0||s%400===0}var Ee=0,Dt=1,_t=2,_e=3,at=4,Rt=5,Xt=6,Hf=7,Vf=8;M("Y",0,0,function(){var s=this.year();return s<=9999?gt(s,4):"+"+s}),M(0,["YY",2],0,function(){return this.year()%100}),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),x("Y",Nn),x("YY",te,Ve),x("YYYY",_o,go),x("YYYYY",Fn,An),x("YYYYYY",Fn,An),J(["YYYYY","YYYYYY"],Ee),J("YYYY",function(s,a){a[Ee]=s.length===2?i.parseTwoDigitYear(s):V(s)}),J("YY",function(s,a){a[Ee]=i.parseTwoDigitYear(s)}),J("Y",function(s,a){a[Ee]=parseInt(s,10)});function mr(s){return jn(s)?366:365}i.parseTwoDigitYear=function(s){return V(s)+(V(s)>68?1900:2e3)};var Zc=Ti("FullYear",!0);function Yf(){return jn(this.year())}function Ti(s,a){return function(l){return l!=null?(Jc(this,s,l),i.updateOffset(this,a),this):pr(this,s)}}function pr(s,a){if(!s.isValid())return NaN;var l=s._d,d=s._isUTC;switch(a){case"Milliseconds":return d?l.getUTCMilliseconds():l.getMilliseconds();case"Seconds":return d?l.getUTCSeconds():l.getSeconds();case"Minutes":return d?l.getUTCMinutes():l.getMinutes();case"Hours":return d?l.getUTCHours():l.getHours();case"Date":return d?l.getUTCDate():l.getDate();case"Day":return d?l.getUTCDay():l.getDay();case"Month":return d?l.getUTCMonth():l.getMonth();case"FullYear":return d?l.getUTCFullYear():l.getFullYear();default:return NaN}}function Jc(s,a,l){var d,f,g,y,R;if(!(!s.isValid()||isNaN(l))){switch(d=s._d,f=s._isUTC,a){case"Milliseconds":return void(f?d.setUTCMilliseconds(l):d.setMilliseconds(l));case"Seconds":return void(f?d.setUTCSeconds(l):d.setSeconds(l));case"Minutes":return void(f?d.setUTCMinutes(l):d.setMinutes(l));case"Hours":return void(f?d.setUTCHours(l):d.setHours(l));case"Date":return void(f?d.setUTCDate(l):d.setDate(l));case"FullYear":break;default:return}g=l,y=s.month(),R=s.date(),R=R===29&&y===1&&!jn(g)?28:R,f?d.setUTCFullYear(g,y,R):d.setFullYear(g,y,R)}}function Wf(s){return s=Je(s),pt(this[s])?this[s]():this}function qf(s,a){if(typeof s=="object"){s=po(s);var l=Lf(s),d,f=l.length;for(d=0;d<f;d++)this[l[d].unit](s[l[d].unit])}else if(s=Je(s),pt(this[s]))return this[s](a);return this}function Gf(s,a){return(s%a+a)%a}var de;Array.prototype.indexOf?de=Array.prototype.indexOf:de=function(s){var a;for(a=0;a<this.length;++a)if(this[a]===s)return a;return-1};function wo(s,a){if(isNaN(s)||isNaN(a))return NaN;var l=Gf(a,12);return s+=(a-l)/12,l===1?jn(s)?29:28:31-l%7%2}M("M",["MM",2],"Mo",function(){return this.month()+1}),M("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)}),M("MMMM",0,0,function(s){return this.localeData().months(this,s)}),x("M",te,Ii),x("MM",te,Ve),x("MMM",function(s,a){return a.monthsShortRegex(s)}),x("MMMM",function(s,a){return a.monthsRegex(s)}),J(["M","MM"],function(s,a){a[Dt]=V(s)-1}),J(["MMM","MMMM"],function(s,a,l,d){var f=l._locale.monthsParse(s,d,l._strict);f!=null?a[Dt]=f:S(l).invalidMonth=s});var Kf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Qc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Zf=hr,Jf=hr;function Qf(s,a){return s?t(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||Xc).test(a)?"format":"standalone"][s.month()]:t(this._months)?this._months:this._months.standalone}function Xf(s,a){return s?t(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[Xc.test(a)?"format":"standalone"][s.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function em(s,a,l){var d,f,g,y=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)g=w([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(g,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(g,"").toLocaleLowerCase();return l?a==="MMM"?(f=de.call(this._shortMonthsParse,y),f!==-1?f:null):(f=de.call(this._longMonthsParse,y),f!==-1?f:null):a==="MMM"?(f=de.call(this._shortMonthsParse,y),f!==-1?f:(f=de.call(this._longMonthsParse,y),f!==-1?f:null)):(f=de.call(this._longMonthsParse,y),f!==-1?f:(f=de.call(this._shortMonthsParse,y),f!==-1?f:null))}function tm(s,a,l){var d,f,g;if(this._monthsParseExact)return em.call(this,s,a,l);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(f=w([2e3,d]),l&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),!l&&!this._monthsParse[d]&&(g="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[d]=new RegExp(g.replace(".",""),"i")),l&&a==="MMMM"&&this._longMonthsParse[d].test(s))return d;if(l&&a==="MMM"&&this._shortMonthsParse[d].test(s))return d;if(!l&&this._monthsParse[d].test(s))return d}}function el(s,a){if(!s.isValid())return s;if(typeof a=="string"){if(/^\d+$/.test(a))a=V(a);else if(a=s.localeData().monthsParse(a),!h(a))return s}var l=a,d=s.date();return d=d<29?d:Math.min(d,wo(s.year(),l)),s._isUTC?s._d.setUTCMonth(l,d):s._d.setMonth(l,d),s}function tl(s){return s!=null?(el(this,s),i.updateOffset(this,!0),this):pr(this,"Month")}function im(){return wo(this.year(),this.month())}function rm(s){return this._monthsParseExact?(o(this,"_monthsRegex")||il.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Zf),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}function nm(s){return this._monthsParseExact?(o(this,"_monthsRegex")||il.call(this),s?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Jf),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}function il(){function s(P,Y){return Y.length-P.length}var a=[],l=[],d=[],f,g,y,R;for(f=0;f<12;f++)g=w([2e3,f]),y=kt(this.monthsShort(g,"")),R=kt(this.months(g,"")),a.push(y),l.push(R),d.push(R),d.push(y);a.sort(s),l.sort(s),d.sort(s),this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function sm(s,a,l,d,f,g,y){var R;return s<100&&s>=0?(R=new Date(s+400,a,l,d,f,g,y),isFinite(R.getFullYear())&&R.setFullYear(s)):R=new Date(s,a,l,d,f,g,y),R}function gr(s){var a,l;return s<100&&s>=0?(l=Array.prototype.slice.call(arguments),l[0]=s+400,a=new Date(Date.UTC.apply(null,l)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(s)):a=new Date(Date.UTC.apply(null,arguments)),a}function Un(s,a,l){var d=7+a-l,f=(7+gr(s,0,d).getUTCDay()-a)%7;return-f+d-1}function rl(s,a,l,d,f){var g=(7+l-d)%7,y=Un(s,d,f),R=1+7*(a-1)+g+y,P,Y;return R<=0?(P=s-1,Y=mr(P)+R):R>mr(s)?(P=s+1,Y=R-mr(s)):(P=s,Y=R),{year:P,dayOfYear:Y}}function _r(s,a,l){var d=Un(s.year(),a,l),f=Math.floor((s.dayOfYear()-d-1)/7)+1,g,y;return f<1?(y=s.year()-1,g=f+xt(y,a,l)):f>xt(s.year(),a,l)?(g=f-xt(s.year(),a,l),y=s.year()+1):(y=s.year(),g=f),{week:g,year:y}}function xt(s,a,l){var d=Un(s,a,l),f=Un(s+1,a,l);return(mr(s)-d+f)/7}M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),x("w",te,Ii),x("ww",te,Ve),x("W",te,Ii),x("WW",te,Ve),fr(["w","ww","W","WW"],function(s,a,l,d){a[d.substr(0,1)]=V(s)});function om(s){return _r(s,this._week.dow,this._week.doy).week}var am={dow:0,doy:6};function cm(){return this._week.dow}function lm(){return this._week.doy}function dm(s){var a=this.localeData().week(this);return s==null?a:this.add((s-a)*7,"d")}function um(s){var a=_r(this,1,4).week;return s==null?a:this.add((s-a)*7,"d")}M("d",0,"do","day"),M("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)}),M("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)}),M("dddd",0,0,function(s){return this.localeData().weekdays(this,s)}),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),x("d",te),x("e",te),x("E",te),x("dd",function(s,a){return a.weekdaysMinRegex(s)}),x("ddd",function(s,a){return a.weekdaysShortRegex(s)}),x("dddd",function(s,a){return a.weekdaysRegex(s)}),fr(["dd","ddd","dddd"],function(s,a,l,d){var f=l._locale.weekdaysParse(s,d,l._strict);f!=null?a.d=f:S(l).invalidWeekday=s}),fr(["d","e","E"],function(s,a,l,d){a[d]=V(s)});function hm(s,a){return typeof s!="string"?s:isNaN(s)?(s=a.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}function fm(s,a){return typeof s=="string"?a.weekdaysParse(s)%7||7:isNaN(s)?null:s}function bo(s,a){return s.slice(a,7).concat(s.slice(0,a))}var mm="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),pm="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gm=hr,_m=hr,vm=hr;function ym(s,a){var l=t(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return s===!0?bo(l,this._week.dow):s?l[s.day()]:l}function wm(s){return s===!0?bo(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}function bm(s){return s===!0?bo(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}function Sm(s,a,l){var d,f,g,y=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)g=w([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(g,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(g,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(g,"").toLocaleLowerCase();return l?a==="dddd"?(f=de.call(this._weekdaysParse,y),f!==-1?f:null):a==="ddd"?(f=de.call(this._shortWeekdaysParse,y),f!==-1?f:null):(f=de.call(this._minWeekdaysParse,y),f!==-1?f:null):a==="dddd"?(f=de.call(this._weekdaysParse,y),f!==-1||(f=de.call(this._shortWeekdaysParse,y),f!==-1)?f:(f=de.call(this._minWeekdaysParse,y),f!==-1?f:null)):a==="ddd"?(f=de.call(this._shortWeekdaysParse,y),f!==-1||(f=de.call(this._weekdaysParse,y),f!==-1)?f:(f=de.call(this._minWeekdaysParse,y),f!==-1?f:null)):(f=de.call(this._minWeekdaysParse,y),f!==-1||(f=de.call(this._weekdaysParse,y),f!==-1)?f:(f=de.call(this._shortWeekdaysParse,y),f!==-1?f:null))}function Cm(s,a,l){var d,f,g;if(this._weekdaysParseExact)return Sm.call(this,s,a,l);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(f=w([2e3,1]).day(d),l&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(f,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(f,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(f,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(g="^"+this.weekdays(f,"")+"|^"+this.weekdaysShort(f,"")+"|^"+this.weekdaysMin(f,""),this._weekdaysParse[d]=new RegExp(g.replace(".",""),"i")),l&&a==="dddd"&&this._fullWeekdaysParse[d].test(s))return d;if(l&&a==="ddd"&&this._shortWeekdaysParse[d].test(s))return d;if(l&&a==="dd"&&this._minWeekdaysParse[d].test(s))return d;if(!l&&this._weekdaysParse[d].test(s))return d}}function km(s){if(!this.isValid())return s!=null?this:NaN;var a=pr(this,"Day");return s!=null?(s=hm(s,this.localeData()),this.add(s-a,"d")):a}function Dm(s){if(!this.isValid())return s!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return s==null?a:this.add(s-a,"d")}function Rm(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var a=fm(s,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function xm(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||So.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=gm),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}function Em(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||So.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_m),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Im(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||So.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vm),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function So(){function s(Ae,At){return At.length-Ae.length}var a=[],l=[],d=[],f=[],g,y,R,P,Y;for(g=0;g<7;g++)y=w([2e3,1]).day(g),R=kt(this.weekdaysMin(y,"")),P=kt(this.weekdaysShort(y,"")),Y=kt(this.weekdays(y,"")),a.push(R),l.push(P),d.push(Y),f.push(R),f.push(P),f.push(Y);a.sort(s),l.sort(s),d.sort(s),f.sort(s),this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Co(){return this.hours()%12||12}function Tm(){return this.hours()||24}M("H",["HH",2],0,"hour"),M("h",["hh",2],0,Co),M("k",["kk",2],0,Tm),M("hmm",0,0,function(){return""+Co.apply(this)+gt(this.minutes(),2)}),M("hmmss",0,0,function(){return""+Co.apply(this)+gt(this.minutes(),2)+gt(this.seconds(),2)}),M("Hmm",0,0,function(){return""+this.hours()+gt(this.minutes(),2)}),M("Hmmss",0,0,function(){return""+this.hours()+gt(this.minutes(),2)+gt(this.seconds(),2)});function sl(s,a){M(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}sl("a",!0),sl("A",!1);function ol(s,a){return a._meridiemParse}x("a",ol),x("A",ol),x("H",te,vo),x("h",te,Ii),x("k",te,Ii),x("HH",te,Ve),x("hh",te,Ve),x("kk",te,Ve),x("hmm",Gc),x("hmmss",Kc),x("Hmm",Gc),x("Hmmss",Kc),J(["H","HH"],_e),J(["k","kk"],function(s,a,l){var d=V(s);a[_e]=d===24?0:d}),J(["a","A"],function(s,a,l){l._isPm=l._locale.isPM(s),l._meridiem=s}),J(["h","hh"],function(s,a,l){a[_e]=V(s),S(l).bigHour=!0}),J("hmm",function(s,a,l){var d=s.length-2;a[_e]=V(s.substr(0,d)),a[at]=V(s.substr(d)),S(l).bigHour=!0}),J("hmmss",function(s,a,l){var d=s.length-4,f=s.length-2;a[_e]=V(s.substr(0,d)),a[at]=V(s.substr(d,2)),a[Rt]=V(s.substr(f)),S(l).bigHour=!0}),J("Hmm",function(s,a,l){var d=s.length-2;a[_e]=V(s.substr(0,d)),a[at]=V(s.substr(d))}),J("Hmmss",function(s,a,l){var d=s.length-4,f=s.length-2;a[_e]=V(s.substr(0,d)),a[at]=V(s.substr(d,2)),a[Rt]=V(s.substr(f))});function Mm(s){return(s+"").toLowerCase().charAt(0)==="p"}var Am=/[ap]\.?m?\.?/i,Om=Ti("Hours",!0);function Fm(s,a,l){return s>11?l?"pm":"PM":l?"am":"AM"}var al={calendar:Sf,longDateFormat:Rf,invalidDate:Ef,ordinal:Tf,dayOfMonthOrdinalParse:Mf,relativeTime:Of,months:Kf,monthsShort:Qc,week:am,weekdays:mm,weekdaysMin:pm,weekdaysShort:nl,meridiemParse:Am},ne={},vr={},yr;function Nm(s,a){var l,d=Math.min(s.length,a.length);for(l=0;l<d;l+=1)if(s[l]!==a[l])return l;return d}function cl(s){return s&&s.toLowerCase().replace("_","-")}function Pm(s){for(var a=0,l,d,f,g;a<s.length;){for(g=cl(s[a]).split("-"),l=g.length,d=cl(s[a+1]),d=d?d.split("-"):null;l>0;){if(f=$n(g.slice(0,l).join("-")),f)return f;if(d&&d.length>=l&&Nm(g,d)>=l-1)break;l--}a++}return yr}function Lm(s){return!!(s&&s.match("^[^/\\\\]*$"))}function $n(s){var a=null,l;if(ne[s]===void 0&&typeof Xi<"u"&&Xi&&Xi.exports&&Lm(s))try{a=yr._abbr,l=Zn,l("./locale/"+s),Vt(a)}catch{ne[s]=null}return ne[s]}function Vt(s,a){var l;return s&&(u(a)?l=Et(s):l=ko(s,a),l?yr=l:typeof console<"u"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),yr._abbr}function ko(s,a){if(a!==null){var l,d=al;if(a.abbr=s,ne[s]!=null)Hc("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=ne[s]._config;else if(a.parentLocale!=null)if(ne[a.parentLocale]!=null)d=ne[a.parentLocale]._config;else if(l=$n(a.parentLocale),l!=null)d=l._config;else return vr[a.parentLocale]||(vr[a.parentLocale]=[]),vr[a.parentLocale].push({name:s,config:a}),null;return ne[s]=new uo(lo(d,a)),vr[s]&&vr[s].forEach(function(f){ko(f.name,f.config)}),Vt(s),ne[s]}else return delete ne[s],null}function jm(s,a){if(a!=null){var l,d,f=al;ne[s]!=null&&ne[s].parentLocale!=null?ne[s].set(lo(ne[s]._config,a)):(d=$n(s),d!=null&&(f=d._config),a=lo(f,a),d==null&&(a.abbr=s),l=new uo(a),l.parentLocale=ne[s],ne[s]=l),Vt(s)}else ne[s]!=null&&(ne[s].parentLocale!=null?(ne[s]=ne[s].parentLocale,s===Vt()&&Vt(s)):ne[s]!=null&&delete ne[s]);return ne[s]}function Et(s){var a;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return yr;if(!t(s)){if(a=$n(s),a)return a;s=[s]}return Pm(s)}function Um(){return ho(ne)}function Do(s){var a,l=s._a;return l&&S(s).overflow===-2&&(a=l[Dt]<0||l[Dt]>11?Dt:l[_t]<1||l[_t]>wo(l[Ee],l[Dt])?_t:l[_e]<0||l[_e]>24||l[_e]===24&&(l[at]!==0||l[Rt]!==0||l[Xt]!==0)?_e:l[at]<0||l[at]>59?at:l[Rt]<0||l[Rt]>59?Rt:l[Xt]<0||l[Xt]>999?Xt:-1,S(s)._overflowDayOfYear&&(a<Ee||a>_t)&&(a=_t),S(s)._overflowWeeks&&a===-1&&(a=Hf),S(s)._overflowWeekday&&a===-1&&(a=Vf),S(s).overflow=a),s}var $m=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bm=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zm=/Z|[+-]\d\d(?::?\d\d)?/,Bn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ro=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hm=/^\/?Date\((-?\d+)/i,Vm=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ym={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ll(s){var a,l,d=s._i,f=$m.exec(d)||Bm.exec(d),g,y,R,P,Y=Bn.length,Ae=Ro.length;if(f){for(S(s).iso=!0,a=0,l=Y;a<l;a++)if(Bn[a][1].exec(f[1])){y=Bn[a][0],g=Bn[a][2]!==!1;break}if(y==null){s._isValid=!1;return}if(f[3]){for(a=0,l=Ae;a<l;a++)if(Ro[a][1].exec(f[3])){R=(f[2]||" ")+Ro[a][0];break}if(R==null){s._isValid=!1;return}}if(!g&&R!=null){s._isValid=!1;return}if(f[4])if(zm.exec(f[4]))P="Z";else{s._isValid=!1;return}s._f=y+(R||"")+(P||""),Eo(s)}else s._isValid=!1}function Wm(s,a,l,d,f,g){var y=[qm(s),Qc.indexOf(a),parseInt(l,10),parseInt(d,10),parseInt(f,10)];return g&&y.push(parseInt(g,10)),y}function qm(s){var a=parseInt(s,10);return a<=49?2e3+a:a<=999?1900+a:a}function Gm(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Km(s,a,l){if(s){var d=nl.indexOf(s),f=new Date(a[0],a[1],a[2]).getDay();if(d!==f)return S(l).weekdayMismatch=!0,l._isValid=!1,!1}return!0}function Zm(s,a,l){if(s)return Ym[s];if(a)return 0;var d=parseInt(l,10),f=d%100,g=(d-f)/100;return g*60+f}function dl(s){var a=Vm.exec(Gm(s._i)),l;if(a){if(l=Wm(a[4],a[3],a[2],a[5],a[6],a[7]),!Km(a[1],l,s))return;s._a=l,s._tzm=Zm(a[8],a[9],a[10]),s._d=gr.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),S(s).rfc2822=!0}else s._isValid=!1}function Jm(s){var a=Hm.exec(s._i);if(a!==null){s._d=new Date(+a[1]);return}if(ll(s),s._isValid===!1)delete s._isValid;else return;if(dl(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:i.createFromInputFallback(s)}i.createFromInputFallback=Ze("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function Mi(s,a,l){return s??a??l}function Qm(s){var a=new Date(i.now());return s._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function xo(s){var a,l,d=[],f,g,y;if(!s._d){for(f=Qm(s),s._w&&s._a[_t]==null&&s._a[Dt]==null&&Xm(s),s._dayOfYear!=null&&(y=Mi(s._a[Ee],f[Ee]),(s._dayOfYear>mr(y)||s._dayOfYear===0)&&(S(s)._overflowDayOfYear=!0),l=gr(y,0,s._dayOfYear),s._a[Dt]=l.getUTCMonth(),s._a[_t]=l.getUTCDate()),a=0;a<3&&s._a[a]==null;++a)s._a[a]=d[a]=f[a];for(;a<7;a++)s._a[a]=d[a]=s._a[a]==null?a===2?1:0:s._a[a];s._a[_e]===24&&s._a[at]===0&&s._a[Rt]===0&&s._a[Xt]===0&&(s._nextDay=!0,s._a[_e]=0),s._d=(s._useUTC?gr:sm).apply(null,d),g=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[_e]=24),s._w&&typeof s._w.d<"u"&&s._w.d!==g&&(S(s).weekdayMismatch=!0)}}function Xm(s){var a,l,d,f,g,y,R,P,Y;a=s._w,a.GG!=null||a.W!=null||a.E!=null?(g=1,y=4,l=Mi(a.GG,s._a[Ee],_r(ie(),1,4).year),d=Mi(a.W,1),f=Mi(a.E,1),(f<1||f>7)&&(P=!0)):(g=s._locale._week.dow,y=s._locale._week.doy,Y=_r(ie(),g,y),l=Mi(a.gg,s._a[Ee],Y.year),d=Mi(a.w,Y.week),a.d!=null?(f=a.d,(f<0||f>6)&&(P=!0)):a.e!=null?(f=a.e+g,(a.e<0||a.e>6)&&(P=!0)):f=g),d<1||d>xt(l,g,y)?S(s)._overflowWeeks=!0:P!=null?S(s)._overflowWeekday=!0:(R=rl(l,d,f,g,y),s._a[Ee]=R.year,s._dayOfYear=R.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function Eo(s){if(s._f===i.ISO_8601){ll(s);return}if(s._f===i.RFC_2822){dl(s);return}s._a=[],S(s).empty=!0;var a=""+s._i,l,d,f,g,y,R=a.length,P=0,Y,Ae;for(f=Vc(s._f,s._locale).match(fo)||[],Ae=f.length,l=0;l<Ae;l++)g=f[l],d=(a.match($f(g,s))||[])[0],d&&(y=a.substr(0,a.indexOf(d)),y.length>0&&S(s).unusedInput.push(y),a=a.slice(a.indexOf(d)+d.length),P+=d.length),xi[g]?(d?S(s).empty=!1:S(s).unusedTokens.push(g),zf(g,d,s)):s._strict&&!d&&S(s).unusedTokens.push(g);S(s).charsLeftOver=R-P,a.length>0&&S(s).unusedInput.push(a),s._a[_e]<=12&&S(s).bigHour===!0&&s._a[_e]>0&&(S(s).bigHour=void 0),S(s).parsedDateParts=s._a.slice(0),S(s).meridiem=s._meridiem,s._a[_e]=ep(s._locale,s._a[_e],s._meridiem),Y=S(s).era,Y!==null&&(s._a[Ee]=s._locale.erasConvertYear(Y,s._a[Ee])),xo(s),Do(s)}function ep(s,a,l){var d;return l==null?a:s.meridiemHour!=null?s.meridiemHour(a,l):(s.isPM!=null&&(d=s.isPM(l),d&&a<12&&(a+=12),!d&&a===12&&(a=0)),a)}function tp(s){var a,l,d,f,g,y,R=!1,P=s._f.length;if(P===0){S(s).invalidFormat=!0,s._d=new Date(NaN);return}for(f=0;f<P;f++)g=0,y=!1,a=Te({},s),s._useUTC!=null&&(a._useUTC=s._useUTC),a._f=s._f[f],Eo(a),I(a)&&(y=!0),g+=S(a).charsLeftOver,g+=S(a).unusedTokens.length*10,S(a).score=g,R?g<d&&(d=g,l=a):(d==null||g<d||y)&&(d=g,l=a,y&&(R=!0));_(s,l||a)}function ip(s){if(!s._d){var a=po(s._i),l=a.day===void 0?a.date:a.day;s._a=p([a.year,a.month,l,a.hour,a.minute,a.second,a.millisecond],function(d){return d&&parseInt(d,10)}),xo(s)}}function rp(s){var a=new Me(Do(ul(s)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function ul(s){var a=s._i,l=s._f;return s._locale=s._locale||Et(s._l),a===null||l===void 0&&a===""?j({nullInput:!0}):(typeof a=="string"&&(s._i=a=s._locale.preparse(a)),ye(a)?new Me(Do(a)):(m(a)?s._d=a:t(l)?tp(s):l?Eo(s):np(s),I(s)||(s._d=null),s))}function np(s){var a=s._i;u(a)?s._d=new Date(i.now()):m(a)?s._d=new Date(a.valueOf()):typeof a=="string"?Jm(s):t(a)?(s._a=p(a.slice(0),function(l){return parseInt(l,10)}),xo(s)):n(a)?ip(s):h(a)?s._d=new Date(a):i.createFromInputFallback(s)}function hl(s,a,l,d,f){var g={};return(a===!0||a===!1)&&(d=a,a=void 0),(l===!0||l===!1)&&(d=l,l=void 0),(n(s)&&c(s)||t(s)&&s.length===0)&&(s=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=f,g._l=l,g._i=s,g._f=a,g._strict=d,rp(g)}function ie(s,a,l,d){return hl(s,a,l,d,!1)}var sp=Ze("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=ie.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:j()}),op=Ze("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=ie.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:j()});function fl(s,a){var l,d;if(a.length===1&&t(a[0])&&(a=a[0]),!a.length)return ie();for(l=a[0],d=1;d<a.length;++d)(!a[d].isValid()||a[d][s](l))&&(l=a[d]);return l}function ap(){var s=[].slice.call(arguments,0);return fl("isBefore",s)}function cp(){var s=[].slice.call(arguments,0);return fl("isAfter",s)}var lp=function(){return Date.now?Date.now():+new Date},wr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function dp(s){var a,l=!1,d,f=wr.length;for(a in s)if(o(s,a)&&!(de.call(wr,a)!==-1&&(s[a]==null||!isNaN(s[a]))))return!1;for(d=0;d<f;++d)if(s[wr[d]]){if(l)return!1;parseFloat(s[wr[d]])!==V(s[wr[d]])&&(l=!0)}return!0}function up(){return this._isValid}function hp(){return ct(NaN)}function zn(s){var a=po(s),l=a.year||0,d=a.quarter||0,f=a.month||0,g=a.week||a.isoWeek||0,y=a.day||0,R=a.hour||0,P=a.minute||0,Y=a.second||0,Ae=a.millisecond||0;this._isValid=dp(a),this._milliseconds=+Ae+Y*1e3+P*6e4+R*1e3*60*60,this._days=+y+g*7,this._months=+f+d*3+l*12,this._data={},this._locale=Et(),this._bubble()}function Hn(s){return s instanceof zn}function Io(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}function fp(s,a,l){var d=Math.min(s.length,a.length),f=Math.abs(s.length-a.length),g=0,y;for(y=0;y<d;y++)(l&&s[y]!==a[y]||!l&&V(s[y])!==V(a[y]))&&g++;return g+f}function ml(s,a){M(s,0,0,function(){var l=this.utcOffset(),d="+";return l<0&&(l=-l,d="-"),d+gt(~~(l/60),2)+a+gt(~~l%60,2)})}ml("Z",":"),ml("ZZ",""),x("Z",Pn),x("ZZ",Pn),J(["Z","ZZ"],function(s,a,l){l._useUTC=!0,l._tzm=To(Pn,s)});var mp=/([\+\-]|\d\d)/gi;function To(s,a){var l=(a||"").match(s),d,f,g;return l===null?null:(d=l[l.length-1]||[],f=(d+"").match(mp)||["-",0,0],g=+(f[1]*60)+V(f[2]),g===0?0:f[0]==="+"?g:-g)}function Mo(s,a){var l,d;return a._isUTC?(l=a.clone(),d=(ye(s)||m(s)?s.valueOf():ie(s).valueOf())-l.valueOf(),l._d.setTime(l._d.valueOf()+d),i.updateOffset(l,!1),l):ie(s).local()}function Ao(s){return-Math.round(s._d.getTimezoneOffset())}i.updateOffset=function(){};function pp(s,a,l){var d=this._offset||0,f;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=To(Pn,s),s===null)return this}else Math.abs(s)<16&&!l&&(s=s*60);return!this._isUTC&&a&&(f=Ao(this)),this._offset=s,this._isUTC=!0,f!=null&&this.add(f,"m"),d!==s&&(!a||this._changeInProgress?vl(this,ct(s-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:Ao(this)}function gp(s,a){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,a),this):-this.utcOffset()}function _p(s){return this.utcOffset(0,s)}function vp(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Ao(this),"m")),this}function yp(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=To(jf,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}function wp(s){return this.isValid()?(s=s?ie(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}function bp(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sp(){if(!u(this._isDSTShifted))return this._isDSTShifted;var s={},a;return Te(s,this),s=ul(s),s._a?(a=s._isUTC?w(s._a):ie(s._a),this._isDSTShifted=this.isValid()&&fp(s._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Cp(){return this.isValid()?!this._isUTC:!1}function kp(){return this.isValid()?this._isUTC:!1}function pl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Dp=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Rp=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ct(s,a){var l=s,d=null,f,g,y;return Hn(s)?l={ms:s._milliseconds,d:s._days,M:s._months}:h(s)||!isNaN(+s)?(l={},a?l[a]=+s:l.milliseconds=+s):(d=Dp.exec(s))?(f=d[1]==="-"?-1:1,l={y:0,d:V(d[_t])*f,h:V(d[_e])*f,m:V(d[at])*f,s:V(d[Rt])*f,ms:V(Io(d[Xt]*1e3))*f}):(d=Rp.exec(s))?(f=d[1]==="-"?-1:1,l={y:ei(d[2],f),M:ei(d[3],f),w:ei(d[4],f),d:ei(d[5],f),h:ei(d[6],f),m:ei(d[7],f),s:ei(d[8],f)}):l==null?l={}:typeof l=="object"&&("from"in l||"to"in l)&&(y=xp(ie(l.from),ie(l.to)),l={},l.ms=y.milliseconds,l.M=y.months),g=new zn(l),Hn(s)&&o(s,"_locale")&&(g._locale=s._locale),Hn(s)&&o(s,"_isValid")&&(g._isValid=s._isValid),g}ct.fn=zn.prototype,ct.invalid=hp;function ei(s,a){var l=s&&parseFloat(s.replace(",","."));return(isNaN(l)?0:l)*a}function gl(s,a){var l={};return l.months=a.month()-s.month()+(a.year()-s.year())*12,s.clone().add(l.months,"M").isAfter(a)&&--l.months,l.milliseconds=+a-+s.clone().add(l.months,"M"),l}function xp(s,a){var l;return s.isValid()&&a.isValid()?(a=Mo(a,s),s.isBefore(a)?l=gl(s,a):(l=gl(a,s),l.milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0}}function _l(s,a){return function(l,d){var f,g;return d!==null&&!isNaN(+d)&&(Hc(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),g=l,l=d,d=g),f=ct(l,d),vl(this,f,s),this}}function vl(s,a,l,d){var f=a._milliseconds,g=Io(a._days),y=Io(a._months);s.isValid()&&(d=d??!0,y&&el(s,pr(s,"Month")+y*l),g&&Jc(s,"Date",pr(s,"Date")+g*l),f&&s._d.setTime(s._d.valueOf()+f*l),d&&i.updateOffset(s,g||y))}var Ep=_l(1,"add"),Ip=_l(-1,"subtract");function yl(s){return typeof s=="string"||s instanceof String}function Tp(s){return ye(s)||m(s)||yl(s)||h(s)||Ap(s)||Mp(s)||s===null||s===void 0}function Mp(s){var a=n(s)&&!c(s),l=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],f,g,y=d.length;for(f=0;f<y;f+=1)g=d[f],l=l||o(s,g);return a&&l}function Ap(s){var a=t(s),l=!1;return a&&(l=s.filter(function(d){return!h(d)&&yl(s)}).length===0),a&&l}function Op(s){var a=n(s)&&!c(s),l=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],f,g;for(f=0;f<d.length;f+=1)g=d[f],l=l||o(s,g);return a&&l}function Fp(s,a){var l=s.diff(a,"days",!0);return l<-6?"sameElse":l<-1?"lastWeek":l<0?"lastDay":l<1?"sameDay":l<2?"nextDay":l<7?"nextWeek":"sameElse"}function Np(s,a){arguments.length===1&&(arguments[0]?Tp(arguments[0])?(s=arguments[0],a=void 0):Op(arguments[0])&&(a=arguments[0],s=void 0):(s=void 0,a=void 0));var l=s||ie(),d=Mo(l,this).startOf("day"),f=i.calendarFormat(this,d)||"sameElse",g=a&&(pt(a[f])?a[f].call(this,l):a[f]);return this.format(g||this.localeData().calendar(f,this,ie(l)))}function Pp(){return new Me(this)}function Lp(s,a){var l=ye(s)?s:ie(s);return this.isValid()&&l.isValid()?(a=Je(a)||"millisecond",a==="millisecond"?this.valueOf()>l.valueOf():l.valueOf()<this.clone().startOf(a).valueOf()):!1}function jp(s,a){var l=ye(s)?s:ie(s);return this.isValid()&&l.isValid()?(a=Je(a)||"millisecond",a==="millisecond"?this.valueOf()<l.valueOf():this.clone().endOf(a).valueOf()<l.valueOf()):!1}function Up(s,a,l,d){var f=ye(s)?s:ie(s),g=ye(a)?a:ie(a);return this.isValid()&&f.isValid()&&g.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(f,l):!this.isBefore(f,l))&&(d[1]===")"?this.isBefore(g,l):!this.isAfter(g,l))):!1}function $p(s,a){var l=ye(s)?s:ie(s),d;return this.isValid()&&l.isValid()?(a=Je(a)||"millisecond",a==="millisecond"?this.valueOf()===l.valueOf():(d=l.valueOf(),this.clone().startOf(a).valueOf()<=d&&d<=this.clone().endOf(a).valueOf())):!1}function Bp(s,a){return this.isSame(s,a)||this.isAfter(s,a)}function zp(s,a){return this.isSame(s,a)||this.isBefore(s,a)}function Hp(s,a,l){var d,f,g;if(!this.isValid())return NaN;if(d=Mo(s,this),!d.isValid())return NaN;switch(f=(d.utcOffset()-this.utcOffset())*6e4,a=Je(a),a){case"year":g=Vn(this,d)/12;break;case"month":g=Vn(this,d);break;case"quarter":g=Vn(this,d)/3;break;case"second":g=(this-d)/1e3;break;case"minute":g=(this-d)/6e4;break;case"hour":g=(this-d)/36e5;break;case"day":g=(this-d-f)/864e5;break;case"week":g=(this-d-f)/6048e5;break;default:g=this-d}return l?g:Qe(g)}function Vn(s,a){if(s.date()<a.date())return-Vn(a,s);var l=(a.year()-s.year())*12+(a.month()-s.month()),d=s.clone().add(l,"months"),f,g;return a-d<0?(f=s.clone().add(l-1,"months"),g=(a-d)/(d-f)):(f=s.clone().add(l+1,"months"),g=(a-d)/(f-d)),-(l+g)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Vp(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yp(s){if(!this.isValid())return null;var a=s!==!0,l=a?this.clone().utc():this;return l.year()<0||l.year()>9999?Mn(l,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pt(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Mn(l,"Z")):Mn(l,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Wp(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",a="",l,d,f,g;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),l="["+s+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",f="-MM-DD[T]HH:mm:ss.SSS",g=a+'[")]',this.format(l+d+f+g)}function qp(s){s||(s=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var a=Mn(this,s);return this.localeData().postformat(a)}function Gp(s,a){return this.isValid()&&(ye(s)&&s.isValid()||ie(s).isValid())?ct({to:this,from:s}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Kp(s){return this.from(ie(),s)}function Zp(s,a){return this.isValid()&&(ye(s)&&s.isValid()||ie(s).isValid())?ct({from:this,to:s}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Jp(s){return this.to(ie(),s)}function wl(s){var a;return s===void 0?this._locale._abbr:(a=Et(s),a!=null&&(this._locale=a),this)}var bl=Ze("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function Sl(){return this._locale}var Yn=1e3,Ai=60*Yn,Wn=60*Ai,Cl=(365*400+97)*24*Wn;function Oi(s,a){return(s%a+a)%a}function kl(s,a,l){return s<100&&s>=0?new Date(s+400,a,l)-Cl:new Date(s,a,l).valueOf()}function Dl(s,a,l){return s<100&&s>=0?Date.UTC(s+400,a,l)-Cl:Date.UTC(s,a,l)}function Qp(s){var a,l;if(s=Je(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(l=this._isUTC?Dl:kl,s){case"year":a=l(this.year(),0,1);break;case"quarter":a=l(this.year(),this.month()-this.month()%3,1);break;case"month":a=l(this.year(),this.month(),1);break;case"week":a=l(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=l(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=l(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Oi(a+(this._isUTC?0:this.utcOffset()*Ai),Wn);break;case"minute":a=this._d.valueOf(),a-=Oi(a,Ai);break;case"second":a=this._d.valueOf(),a-=Oi(a,Yn);break}return this._d.setTime(a),i.updateOffset(this,!0),this}function Xp(s){var a,l;if(s=Je(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(l=this._isUTC?Dl:kl,s){case"year":a=l(this.year()+1,0,1)-1;break;case"quarter":a=l(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=l(this.year(),this.month()+1,1)-1;break;case"week":a=l(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=l(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=l(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=Wn-Oi(a+(this._isUTC?0:this.utcOffset()*Ai),Wn)-1;break;case"minute":a=this._d.valueOf(),a+=Ai-Oi(a,Ai)-1;break;case"second":a=this._d.valueOf(),a+=Yn-Oi(a,Yn)-1;break}return this._d.setTime(a),i.updateOffset(this,!0),this}function eg(){return this._d.valueOf()-(this._offset||0)*6e4}function tg(){return Math.floor(this.valueOf()/1e3)}function ig(){return new Date(this.valueOf())}function rg(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}function ng(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}function sg(){return this.isValid()?this.toISOString():null}function og(){return I(this)}function ag(){return _({},S(this))}function cg(){return S(this).overflow}function lg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}M("N",0,0,"eraAbbr"),M("NN",0,0,"eraAbbr"),M("NNN",0,0,"eraAbbr"),M("NNNN",0,0,"eraName"),M("NNNNN",0,0,"eraNarrow"),M("y",["y",1],"yo","eraYear"),M("y",["yy",2],0,"eraYear"),M("y",["yyy",3],0,"eraYear"),M("y",["yyyy",4],0,"eraYear"),x("N",Oo),x("NN",Oo),x("NNN",Oo),x("NNNN",wg),x("NNNNN",bg),J(["N","NN","NNN","NNNN","NNNNN"],function(s,a,l,d){var f=l._locale.erasParse(s,d,l._strict);f?S(l).era=f:S(l).invalidEra=s}),x("y",Ei),x("yy",Ei),x("yyy",Ei),x("yyyy",Ei),x("yo",Sg),J(["y","yy","yyy","yyyy"],Ee),J(["yo"],function(s,a,l,d){var f;l._locale._eraYearOrdinalRegex&&(f=s.match(l._locale._eraYearOrdinalRegex)),l._locale.eraYearOrdinalParse?a[Ee]=l._locale.eraYearOrdinalParse(s,f):a[Ee]=parseInt(s,10)});function dg(s,a){var l,d,f,g=this._eras||Et("en")._eras;for(l=0,d=g.length;l<d;++l){switch(typeof g[l].since){case"string":f=i(g[l].since).startOf("day"),g[l].since=f.valueOf();break}switch(typeof g[l].until){case"undefined":g[l].until=1/0;break;case"string":f=i(g[l].until).startOf("day").valueOf(),g[l].until=f.valueOf();break}}return g}function ug(s,a,l){var d,f,g=this.eras(),y,R,P;for(s=s.toUpperCase(),d=0,f=g.length;d<f;++d)if(y=g[d].name.toUpperCase(),R=g[d].abbr.toUpperCase(),P=g[d].narrow.toUpperCase(),l)switch(a){case"N":case"NN":case"NNN":if(R===s)return g[d];break;case"NNNN":if(y===s)return g[d];break;case"NNNNN":if(P===s)return g[d];break}else if([y,R,P].indexOf(s)>=0)return g[d]}function hg(s,a){var l=s.since<=s.until?1:-1;return a===void 0?i(s.since).year():i(s.since).year()+(a-s.offset)*l}function fg(){var s,a,l,d=this.localeData().eras();for(s=0,a=d.length;s<a;++s)if(l=this.clone().startOf("day").valueOf(),d[s].since<=l&&l<=d[s].until||d[s].until<=l&&l<=d[s].since)return d[s].name;return""}function mg(){var s,a,l,d=this.localeData().eras();for(s=0,a=d.length;s<a;++s)if(l=this.clone().startOf("day").valueOf(),d[s].since<=l&&l<=d[s].until||d[s].until<=l&&l<=d[s].since)return d[s].narrow;return""}function pg(){var s,a,l,d=this.localeData().eras();for(s=0,a=d.length;s<a;++s)if(l=this.clone().startOf("day").valueOf(),d[s].since<=l&&l<=d[s].until||d[s].until<=l&&l<=d[s].since)return d[s].abbr;return""}function gg(){var s,a,l,d,f=this.localeData().eras();for(s=0,a=f.length;s<a;++s)if(l=f[s].since<=f[s].until?1:-1,d=this.clone().startOf("day").valueOf(),f[s].since<=d&&d<=f[s].until||f[s].until<=d&&d<=f[s].since)return(this.year()-i(f[s].since).year())*l+f[s].offset;return this.year()}function _g(s){return o(this,"_erasNameRegex")||Fo.call(this),s?this._erasNameRegex:this._erasRegex}function vg(s){return o(this,"_erasAbbrRegex")||Fo.call(this),s?this._erasAbbrRegex:this._erasRegex}function yg(s){return o(this,"_erasNarrowRegex")||Fo.call(this),s?this._erasNarrowRegex:this._erasRegex}function Oo(s,a){return a.erasAbbrRegex(s)}function wg(s,a){return a.erasNameRegex(s)}function bg(s,a){return a.erasNarrowRegex(s)}function Sg(s,a){return a._eraYearOrdinalRegex||Ei}function Fo(){var s=[],a=[],l=[],d=[],f,g,y,R,P,Y=this.eras();for(f=0,g=Y.length;f<g;++f)y=kt(Y[f].name),R=kt(Y[f].abbr),P=kt(Y[f].narrow),a.push(y),s.push(R),l.push(P),d.push(y),d.push(R),d.push(P);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}M(0,["gg",2],0,function(){return this.weekYear()%100}),M(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qn(s,a){M(0,[s,s.length],0,a)}qn("gggg","weekYear"),qn("ggggg","weekYear"),qn("GGGG","isoWeekYear"),qn("GGGGG","isoWeekYear"),x("G",Nn),x("g",Nn),x("GG",te,Ve),x("gg",te,Ve),x("GGGG",_o,go),x("gggg",_o,go),x("GGGGG",Fn,An),x("ggggg",Fn,An),fr(["gggg","ggggg","GGGG","GGGGG"],function(s,a,l,d){a[d.substr(0,2)]=V(s)}),fr(["gg","GG"],function(s,a,l,d){a[d]=i.parseTwoDigitYear(s)});function Cg(s){return Rl.call(this,s,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function kg(s){return Rl.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}function Dg(){return xt(this.year(),1,4)}function Rg(){return xt(this.isoWeekYear(),1,4)}function xg(){var s=this.localeData()._week;return xt(this.year(),s.dow,s.doy)}function Eg(){var s=this.localeData()._week;return xt(this.weekYear(),s.dow,s.doy)}function Rl(s,a,l,d,f){var g;return s==null?_r(this,d,f).year:(g=xt(s,d,f),a>g&&(a=g),Ig.call(this,s,a,l,d,f))}function Ig(s,a,l,d,f){var g=rl(s,a,l,d,f),y=gr(g.year,0,g.dayOfYear);return this.year(y.getUTCFullYear()),this.month(y.getUTCMonth()),this.date(y.getUTCDate()),this}M("Q",0,"Qo","quarter"),x("Q",Wc),J("Q",function(s,a){a[Dt]=(V(s)-1)*3});function Tg(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}M("D",["DD",2],"Do","date"),x("D",te,Ii),x("DD",te,Ve),x("Do",function(s,a){return s?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),J(["D","DD"],_t),J("Do",function(s,a){a[_t]=V(s.match(te)[0])});var xl=Ti("Date",!0);M("DDD",["DDDD",3],"DDDo","dayOfYear"),x("DDD",On),x("DDDD",qc),J(["DDD","DDDD"],function(s,a,l){l._dayOfYear=V(s)});function Mg(s){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"d")}M("m",["mm",2],0,"minute"),x("m",te,vo),x("mm",te,Ve),J(["m","mm"],at);var Ag=Ti("Minutes",!1);M("s",["ss",2],0,"second"),x("s",te,vo),x("ss",te,Ve),J(["s","ss"],Rt);var Og=Ti("Seconds",!1);M("S",0,0,function(){return~~(this.millisecond()/100)}),M(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,function(){return this.millisecond()*10}),M(0,["SSSSS",5],0,function(){return this.millisecond()*100}),M(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),M(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),M(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),M(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),x("S",On,Wc),x("SS",On,Ve),x("SSS",On,qc);var Yt,El;for(Yt="SSSS";Yt.length<=9;Yt+="S")x(Yt,Ei);function Fg(s,a){a[Xt]=V(("0."+s)*1e3)}for(Yt="S";Yt.length<=9;Yt+="S")J(Yt,Fg);El=Ti("Milliseconds",!1),M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");function Ng(){return this._isUTC?"UTC":""}function Pg(){return this._isUTC?"Coordinated Universal Time":""}var C=Me.prototype;C.add=Ep,C.calendar=Np,C.clone=Pp,C.diff=Hp,C.endOf=Xp,C.format=qp,C.from=Gp,C.fromNow=Kp,C.to=Zp,C.toNow=Jp,C.get=Wf,C.invalidAt=cg,C.isAfter=Lp,C.isBefore=jp,C.isBetween=Up,C.isSame=$p,C.isSameOrAfter=Bp,C.isSameOrBefore=zp,C.isValid=og,C.lang=bl,C.locale=wl,C.localeData=Sl,C.max=op,C.min=sp,C.parsingFlags=ag,C.set=qf,C.startOf=Qp,C.subtract=Ip,C.toArray=rg,C.toObject=ng,C.toDate=ig,C.toISOString=Yp,C.inspect=Wp,typeof Symbol<"u"&&Symbol.for!=null&&(C[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),C.toJSON=sg,C.toString=Vp,C.unix=tg,C.valueOf=eg,C.creationData=lg,C.eraName=fg,C.eraNarrow=mg,C.eraAbbr=pg,C.eraYear=gg,C.year=Zc,C.isLeapYear=Yf,C.weekYear=Cg,C.isoWeekYear=kg,C.quarter=C.quarters=Tg,C.month=tl,C.daysInMonth=im,C.week=C.weeks=dm,C.isoWeek=C.isoWeeks=um,C.weeksInYear=xg,C.weeksInWeekYear=Eg,C.isoWeeksInYear=Dg,C.isoWeeksInISOWeekYear=Rg,C.date=xl,C.day=C.days=km,C.weekday=Dm,C.isoWeekday=Rm,C.dayOfYear=Mg,C.hour=C.hours=Om,C.minute=C.minutes=Ag,C.second=C.seconds=Og,C.millisecond=C.milliseconds=El,C.utcOffset=pp,C.utc=_p,C.local=vp,C.parseZone=yp,C.hasAlignedHourOffset=wp,C.isDST=bp,C.isLocal=Cp,C.isUtcOffset=kp,C.isUtc=pl,C.isUTC=pl,C.zoneAbbr=Ng,C.zoneName=Pg,C.dates=Ze("dates accessor is deprecated. Use date instead.",xl),C.months=Ze("months accessor is deprecated. Use month instead",tl),C.years=Ze("years accessor is deprecated. Use year instead",Zc),C.zone=Ze("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gp),C.isDSTShifted=Ze("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sp);function Lg(s){return ie(s*1e3)}function jg(){return ie.apply(null,arguments).parseZone()}function Il(s){return s}var G=uo.prototype;G.calendar=Cf,G.longDateFormat=xf,G.invalidDate=If,G.ordinal=Af,G.preparse=Il,G.postformat=Il,G.relativeTime=Ff,G.pastFuture=Nf,G.set=bf,G.eras=dg,G.erasParse=ug,G.erasConvertYear=hg,G.erasAbbrRegex=vg,G.erasNameRegex=_g,G.erasNarrowRegex=yg,G.months=Qf,G.monthsShort=Xf,G.monthsParse=tm,G.monthsRegex=nm,G.monthsShortRegex=rm,G.week=om,G.firstDayOfYear=lm,G.firstDayOfWeek=cm,G.weekdays=ym,G.weekdaysMin=bm,G.weekdaysShort=wm,G.weekdaysParse=Cm,G.weekdaysRegex=xm,G.weekdaysShortRegex=Em,G.weekdaysMinRegex=Im,G.isPM=Mm,G.meridiem=Fm;function Gn(s,a,l,d){var f=Et(),g=w().set(d,a);return f[l](g,s)}function Tl(s,a,l){if(h(s)&&(a=s,s=void 0),s=s||"",a!=null)return Gn(s,a,l,"month");var d,f=[];for(d=0;d<12;d++)f[d]=Gn(s,d,l,"month");return f}function No(s,a,l,d){typeof s=="boolean"?(h(a)&&(l=a,a=void 0),a=a||""):(a=s,l=a,s=!1,h(a)&&(l=a,a=void 0),a=a||"");var f=Et(),g=s?f._week.dow:0,y,R=[];if(l!=null)return Gn(a,(l+g)%7,d,"day");for(y=0;y<7;y++)R[y]=Gn(a,(y+g)%7,d,"day");return R}function Ug(s,a){return Tl(s,a,"months")}function $g(s,a){return Tl(s,a,"monthsShort")}function Bg(s,a,l){return No(s,a,l,"weekdays")}function zg(s,a,l){return No(s,a,l,"weekdaysShort")}function Hg(s,a,l){return No(s,a,l,"weekdaysMin")}Vt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(s){var a=s%10,l=V(s%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return s+l}}),i.lang=Ze("moment.lang is deprecated. Use moment.locale instead.",Vt),i.langData=Ze("moment.langData is deprecated. Use moment.localeData instead.",Et);var It=Math.abs;function Vg(){var s=this._data;return this._milliseconds=It(this._milliseconds),this._days=It(this._days),this._months=It(this._months),s.milliseconds=It(s.milliseconds),s.seconds=It(s.seconds),s.minutes=It(s.minutes),s.hours=It(s.hours),s.months=It(s.months),s.years=It(s.years),this}function Ml(s,a,l,d){var f=ct(a,l);return s._milliseconds+=d*f._milliseconds,s._days+=d*f._days,s._months+=d*f._months,s._bubble()}function Yg(s,a){return Ml(this,s,a,1)}function Wg(s,a){return Ml(this,s,a,-1)}function Al(s){return s<0?Math.floor(s):Math.ceil(s)}function qg(){var s=this._milliseconds,a=this._days,l=this._months,d=this._data,f,g,y,R,P;return s>=0&&a>=0&&l>=0||s<=0&&a<=0&&l<=0||(s+=Al(Po(l)+a)*864e5,a=0,l=0),d.milliseconds=s%1e3,f=Qe(s/1e3),d.seconds=f%60,g=Qe(f/60),d.minutes=g%60,y=Qe(g/60),d.hours=y%24,a+=Qe(y/24),P=Qe(Ol(a)),l+=P,a-=Al(Po(P)),R=Qe(l/12),l%=12,d.days=a,d.months=l,d.years=R,this}function Ol(s){return s*4800/146097}function Po(s){return s*146097/4800}function Gg(s){if(!this.isValid())return NaN;var a,l,d=this._milliseconds;if(s=Je(s),s==="month"||s==="quarter"||s==="year")switch(a=this._days+d/864e5,l=this._months+Ol(a),s){case"month":return l;case"quarter":return l/3;case"year":return l/12}else switch(a=this._days+Math.round(Po(this._months)),s){case"week":return a/7+d/6048e5;case"day":return a+d/864e5;case"hour":return a*24+d/36e5;case"minute":return a*1440+d/6e4;case"second":return a*86400+d/1e3;case"millisecond":return Math.floor(a*864e5)+d;default:throw new Error("Unknown unit "+s)}}function Tt(s){return function(){return this.as(s)}}var Fl=Tt("ms"),Kg=Tt("s"),Zg=Tt("m"),Jg=Tt("h"),Qg=Tt("d"),Xg=Tt("w"),e_=Tt("M"),t_=Tt("Q"),i_=Tt("y"),r_=Fl;function n_(){return ct(this)}function s_(s){return s=Je(s),this.isValid()?this[s+"s"]():NaN}function ti(s){return function(){return this.isValid()?this._data[s]:NaN}}var o_=ti("milliseconds"),a_=ti("seconds"),c_=ti("minutes"),l_=ti("hours"),d_=ti("days"),u_=ti("months"),h_=ti("years");function f_(){return Qe(this.days()/7)}var Mt=Math.round,Fi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function m_(s,a,l,d,f){return f.relativeTime(a||1,!!l,s,d)}function p_(s,a,l,d){var f=ct(s).abs(),g=Mt(f.as("s")),y=Mt(f.as("m")),R=Mt(f.as("h")),P=Mt(f.as("d")),Y=Mt(f.as("M")),Ae=Mt(f.as("w")),At=Mt(f.as("y")),Wt=g<=l.ss&&["s",g]||g<l.s&&["ss",g]||y<=1&&["m"]||y<l.m&&["mm",y]||R<=1&&["h"]||R<l.h&&["hh",R]||P<=1&&["d"]||P<l.d&&["dd",P];return l.w!=null&&(Wt=Wt||Ae<=1&&["w"]||Ae<l.w&&["ww",Ae]),Wt=Wt||Y<=1&&["M"]||Y<l.M&&["MM",Y]||At<=1&&["y"]||["yy",At],Wt[2]=a,Wt[3]=+s>0,Wt[4]=d,m_.apply(null,Wt)}function g_(s){return s===void 0?Mt:typeof s=="function"?(Mt=s,!0):!1}function __(s,a){return Fi[s]===void 0?!1:a===void 0?Fi[s]:(Fi[s]=a,s==="s"&&(Fi.ss=a-1),!0)}function v_(s,a){if(!this.isValid())return this.localeData().invalidDate();var l=!1,d=Fi,f,g;return typeof s=="object"&&(a=s,s=!1),typeof s=="boolean"&&(l=s),typeof a=="object"&&(d=Object.assign({},Fi,a),a.s!=null&&a.ss==null&&(d.ss=a.s-1)),f=this.localeData(),g=p_(this,!l,d,f),l&&(g=f.pastFuture(+this,g)),f.postformat(g)}var Lo=Math.abs;function Ni(s){return(s>0)-(s<0)||+s}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var s=Lo(this._milliseconds)/1e3,a=Lo(this._days),l=Lo(this._months),d,f,g,y,R=this.asSeconds(),P,Y,Ae,At;return R?(d=Qe(s/60),f=Qe(d/60),s%=60,d%=60,g=Qe(l/12),l%=12,y=s?s.toFixed(3).replace(/\.?0+$/,""):"",P=R<0?"-":"",Y=Ni(this._months)!==Ni(R)?"-":"",Ae=Ni(this._days)!==Ni(R)?"-":"",At=Ni(this._milliseconds)!==Ni(R)?"-":"",P+"P"+(g?Y+g+"Y":"")+(l?Y+l+"M":"")+(a?Ae+a+"D":"")+(f||d||s?"T":"")+(f?At+f+"H":"")+(d?At+d+"M":"")+(s?At+y+"S":"")):"P0D"}var q=zn.prototype;q.isValid=up,q.abs=Vg,q.add=Yg,q.subtract=Wg,q.as=Gg,q.asMilliseconds=Fl,q.asSeconds=Kg,q.asMinutes=Zg,q.asHours=Jg,q.asDays=Qg,q.asWeeks=Xg,q.asMonths=e_,q.asQuarters=t_,q.asYears=i_,q.valueOf=r_,q._bubble=qg,q.clone=n_,q.get=s_,q.milliseconds=o_,q.seconds=a_,q.minutes=c_,q.hours=l_,q.days=d_,q.weeks=f_,q.months=u_,q.years=h_,q.humanize=v_,q.toISOString=Kn,q.toString=Kn,q.toJSON=Kn,q.locale=wl,q.localeData=Sl,q.toIsoString=Ze("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),q.lang=bl,M("X",0,0,"unix"),M("x",0,0,"valueOf"),x("x",Nn),x("X",Uf),J("X",function(s,a,l){l._d=new Date(parseFloat(s)*1e3)}),J("x",function(s,a,l){l._d=new Date(V(s))});return i.version="2.30.1",e(ie),i.fn=C,i.min=ap,i.max=cp,i.now=lp,i.utc=w,i.unix=Lg,i.months=Ug,i.isDate=m,i.locale=Vt,i.invalid=j,i.duration=ct,i.isMoment=ye,i.weekdays=Bg,i.parseZone=jg,i.localeData=Et,i.isDuration=Hn,i.monthsShort=$g,i.weekdaysMin=Hg,i.defineLocale=ko,i.updateLocale=jm,i.locales=Um,i.weekdaysShort=zg,i.normalizeUnits=Je,i.relativeTimeRounding=g_,i.relativeTimeThreshold=__,i.calendarFormat=Fp,i.prototype=C,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})});var ih=lt((uc,th)=>{"use strict";(function(r,i){typeof uc=="object"&&typeof th<"u"&&typeof Zn=="function"?i(dc()):typeof define=="function"&&define.amd?define(["../moment"],i):i(r.moment)})(uc,function(r){"use strict";var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),e="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],n=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=r.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,u){return c?/-MMM-/.test(u)?e[c.month()]:i[c.month()]:i},monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d\xBA",week:{dow:1,doy:4},invalidDate:"Fecha inv\xE1lida"});return o})});var pc=lt(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var fc=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};mc.default=fc});var _c=lt(dn=>{"use strict";var nh=dn&&dn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dn,"__esModule",{value:!0});var g0=nh((pd(),y_(w_))),_0=nh(pc()),gc=class{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=g0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,e){return this.headers=Object.assign({},this.headers),this.headers[i]=e,this}then(i,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let t=this.fetch,n=t(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>v(this,null,function*(){var c,u,h;let m=null,p=null,_=null,w=o.status,b=o.statusText;if(o.ok){if(this.method!=="HEAD"){let j=yield o.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=j:p=JSON.parse(j))}let T=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),I=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");T&&I&&I.length>1&&(_=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,_=null,w=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{let T=yield o.text();try{m=JSON.parse(T),Array.isArray(m)&&o.status===404&&(p=[],m=null,w=200,b="OK")}catch{o.status===404&&T===""?(w=204,b="No Content"):m={message:T}}if(m&&this.isMaybeSingle&&(!((h=m?.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,w=200,b="OK"),m&&this.shouldThrowOnError)throw new _0.default(m)}return{error:m,data:p,count:_,status:w,statusText:b}}));return this.shouldThrowOnError||(n=n.catch(o=>{var c,u,h;return{error:{message:`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,details:`${(u=o?.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=o?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),n.then(i,e)}returns(){return this}overrideTypes(){return this}};dn.default=gc});var yc=lt(un=>{"use strict";var v0=un&&un.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(un,"__esModule",{value:!0});var y0=v0(_c()),vc=class extends y0.default{select(i){let e=!1,t=(i??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:o=n}={}){let c=o?`${o}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:e,referencedTable:t=e}={}){let n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${i}`),this}range(i,e,{foreignTable:t,referencedTable:n=t}={}){let o=typeof n>"u"?"offset":`${n}.offset`,c=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${e-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:o=!1,format:c="text"}={}){var u;let h=[i?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};un.default=vc});var Bs=lt(hn=>{"use strict";var w0=hn&&hn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hn,"__esModule",{value:!0});var b0=w0(yc()),wc=class extends b0.default{eq(i,e){return this.url.searchParams.append(i,`eq.${e}`),this}neq(i,e){return this.url.searchParams.append(i,`neq.${e}`),this}gt(i,e){return this.url.searchParams.append(i,`gt.${e}`),this}gte(i,e){return this.url.searchParams.append(i,`gte.${e}`),this}lt(i,e){return this.url.searchParams.append(i,`lt.${e}`),this}lte(i,e){return this.url.searchParams.append(i,`lte.${e}`),this}like(i,e){return this.url.searchParams.append(i,`like.${e}`),this}likeAllOf(i,e){return this.url.searchParams.append(i,`like(all).{${e.join(",")}}`),this}likeAnyOf(i,e){return this.url.searchParams.append(i,`like(any).{${e.join(",")}}`),this}ilike(i,e){return this.url.searchParams.append(i,`ilike.${e}`),this}ilikeAllOf(i,e){return this.url.searchParams.append(i,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(i,e){return this.url.searchParams.append(i,`ilike(any).{${e.join(",")}}`),this}is(i,e){return this.url.searchParams.append(i,`is.${e}`),this}in(i,e){let t=Array.from(new Set(e)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(i,`in.(${t})`),this}contains(i,e){return typeof e=="string"?this.url.searchParams.append(i,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(i,`cs.{${e.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(e)}`),this}containedBy(i,e){return typeof e=="string"?this.url.searchParams.append(i,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(i,`cd.{${e.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(e)}`),this}rangeGt(i,e){return this.url.searchParams.append(i,`sr.${e}`),this}rangeGte(i,e){return this.url.searchParams.append(i,`nxl.${e}`),this}rangeLt(i,e){return this.url.searchParams.append(i,`sl.${e}`),this}rangeLte(i,e){return this.url.searchParams.append(i,`nxr.${e}`),this}rangeAdjacent(i,e){return this.url.searchParams.append(i,`adj.${e}`),this}overlaps(i,e){return typeof e=="string"?this.url.searchParams.append(i,`ov.${e}`):this.url.searchParams.append(i,`ov.{${e.join(",")}}`),this}textSearch(i,e,{config:t,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");let c=t===void 0?"":`(${t})`;return this.url.searchParams.append(i,`${o}fts${c}.${e}`),this}match(i){return Object.entries(i).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(i,e,t){return this.url.searchParams.append(i,`not.${e}.${t}`),this}or(i,{foreignTable:e,referencedTable:t=e}={}){let n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${i})`),this}filter(i,e,t){return this.url.searchParams.append(i,`${e}.${t}`),this}};hn.default=wc});var Sc=lt(mn=>{"use strict";var S0=mn&&mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mn,"__esModule",{value:!0});var fn=S0(Bs()),bc=class{constructor(i,{headers:e={},schema:t,fetch:n}){this.url=i,this.headers=e,this.schema=t,this.fetch=n}select(i,{head:e=!1,count:t}={}){let n=e?"HEAD":"GET",o=!1,c=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),t&&(this.headers.Prefer=`count=${t}`),new fn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:e,defaultToNull:t=!0}={}){let n="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),t||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(i)){let c=i.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){let u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new fn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:o=!0}={}){let c="POST",u=[`resolution=${t?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&u.push(this.headers.Prefer),n&&u.push(`count=${n}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){let h=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){let m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new fn.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:e}={}){let t="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new fn.default({method:t,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){let e="DELETE",t=[];return i&&t.push(`count=${i}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new fn.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};mn.default=bc});var sh=lt(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.version=void 0;zs.version="0.0.0-automated"});var oh=lt(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.DEFAULT_HEADERS=void 0;var C0=sh();Hs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${C0.version}`}});var ch=lt(pn=>{"use strict";var ah=pn&&pn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pn,"__esModule",{value:!0});var k0=ah(Sc()),D0=ah(Bs()),R0=oh(),Cc=class r{constructor(i,{headers:e={},schema:t,fetch:n}={}){this.url=i,this.headers=Object.assign(Object.assign({},R0.DEFAULT_HEADERS),e),this.schemaName=t,this.fetch=n}from(i){let e=new URL(`${this.url}/${i}`);return new k0.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,e={},{head:t=!1,get:n=!1,count:o}={}){let c,u=new URL(`${this.url}/rpc/${i}`),h;t||n?(c=t?"HEAD":"GET",Object.entries(e).filter(([p,_])=>_!==void 0).map(([p,_])=>[p,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([p,_])=>{u.searchParams.append(p,_)})):(c="POST",h=e);let m=Object.assign({},this.headers);return o&&(m.Prefer=`count=${o}`),new D0.default({method:c,url:u,headers:m,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};pn.default=Cc});var ph=lt(xe=>{"use strict";var er=xe&&xe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;var lh=er(ch());xe.PostgrestClient=lh.default;var dh=er(Sc());xe.PostgrestQueryBuilder=dh.default;var uh=er(Bs());xe.PostgrestFilterBuilder=uh.default;var hh=er(yc());xe.PostgrestTransformBuilder=hh.default;var fh=er(_c());xe.PostgrestBuilder=fh.default;var mh=er(pc());xe.PostgrestError=mh.default;xe.default={PostgrestClient:lh.default,PostgrestQueryBuilder:dh.default,PostgrestFilterBuilder:uh.default,PostgrestTransformBuilder:hh.default,PostgrestBuilder:fh.default,PostgrestError:mh.default}});var ta=class extends sd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ia=class r extends ta{static makeCurrent(){nd(new r)}onAndCancel(i,e,t){return i.addEventListener(e,t),()=>{i.removeEventListener(e,t)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=C_();return e==null?null:k_(e)}resetBaseElement(){Pr=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return od(document.cookie,i)}},Pr=null;function C_(){return Pr=Pr||document.querySelector("base"),Pr?Pr.getAttribute("href"):null}function k_(r){return new URL(r,document.baseURI).pathname}var D_=(()=>{class r{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})(),ra=new Q(""),yd=(()=>{class r{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(o=>o.supports(e)),!t)throw new ue(5101,!1);return this._eventNameToPlugin.set(e,t),t}static{this.\u0275fac=function(t){return new(t||r)(U(ra),U(me))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})(),ls=class{constructor(i){this._doc=i}},Xo="ng-app-id",wd=(()=>{class r{constructor(e,t,n,o={}){this.doc=e,this.appId=t,this.nonce=n,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qo(o),this.resetHostNodes()}addStyles(e){for(let t of e)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach(n=>n.remove()),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Xo}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach(n=>{n.textContent!=null&&t.set(n.textContent,n)}),t}return null}changeUsageCount(e,t){let n=this.styleRef;if(n.has(e)){let o=n.get(e);return o.usage+=t,o.usage}return n.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let n=this.styleNodesInDOM,o=n?.get(t);if(o?.parentNode===e)return n.delete(t),o.removeAttribute(Xo),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=t,this.platformIsServer&&c.setAttribute(Xo,this.appId),e.appendChild(c),c}}addStyleToHost(e,t){let n=this.getStyleElement(e,t),o=this.styleRef,c=o.get(t)?.elements;c?c.push(n):o.set(t,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||r)(U(ae),U(rs),U(Tr,8),U(ri))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})(),ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sa=/%COMP%/g,bd="%COMP%",R_=`_nghost-${bd}`,x_=`_ngcontent-${bd}`,E_=!0,I_=new Q("",{providedIn:"root",factory:()=>E_});function T_(r){return x_.replace(sa,r)}function M_(r){return R_.replace(sa,r)}function Sd(r,i){return i.map(e=>e.replace(sa,r))}var ds=(()=>{class r{constructor(e,t,n,o,c,u,h,m=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Qo(u),this.defaultRenderer=new Lr(e,c,h,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Rr.ShadowDom&&(t=se(E({},t),{encapsulation:Rr.Emulated}));let n=this.getOrCreateRenderer(e,t);return n instanceof us?n.applyToHost(e):n instanceof jr&&n.applyStyles(),n}getOrCreateRenderer(e,t){let n=this.rendererByCompId,o=n.get(t.id);if(!o){let c=this.doc,u=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(t.encapsulation){case Rr.Emulated:o=new us(h,m,t,this.appId,p,c,u,_);break;case Rr.ShadowDom:return new na(h,m,e,t,c,u,this.nonce,_);default:o=new jr(h,m,t,p,c,u,_);break}n.set(t.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||r)(U(yd),U(wd),U(rs),U(I_),U(ae),U(ri),U(me),U(Tr))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})(),Lr=class{constructor(i,e,t,n){this.eventManager=i,this.doc=e,this.ngZone=t,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,e){return e?this.doc.createElementNS(ea[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(gd(i)?i.content:i).appendChild(e)}insertBefore(i,e,t){i&&(gd(i)?i.content:i).insertBefore(e,t)}removeChild(i,e){e.remove()}selectRootElement(i,e){let t=typeof i=="string"?this.doc.querySelector(i):i;if(!t)throw new ue(-5104,!1);return e||(t.textContent=""),t}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,t,n){if(n){e=n+":"+e;let o=ea[n];o?i.setAttributeNS(o,e,t):i.setAttribute(e,t)}else i.setAttribute(e,t)}removeAttribute(i,e,t){if(t){let n=ea[t];n?i.removeAttributeNS(n,e):i.removeAttribute(`${t}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,t,n){n&(Mr.DashCase|Mr.Important)?i.style.setProperty(e,t,n&Mr.Important?"important":""):i.style[e]=t}removeStyle(i,e,t){t&Mr.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,t){i!=null&&(i[e]=t)}setValue(i,e){i.nodeValue=e}listen(i,e,t){if(typeof i=="string"&&(i=Zo().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${e}`);return this.eventManager.addEventListener(i,e,this.decoratePreventDefault(t))}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function gd(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var na=class extends Lr{constructor(i,e,t,n,o,c,u,h){super(i,o,c,h),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=Sd(n.id,n.styles);for(let p of m){let _=document.createElement("style");u&&_.setAttribute("nonce",u),_.textContent=p,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,t){return super.insertBefore(this.nodeOrShadowRoot(i),e,t)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jr=class extends Lr{constructor(i,e,t,n,o,c,u,h){super(i,o,c,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=h?Sd(h,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},us=class extends jr{constructor(i,e,t,n,o,c,u,h){let m=n+"-"+t.id;super(i,e,t,o,c,u,h,m),this.contentAttr=T_(m),this.hostAttr=M_(m)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let t=super.createElement(i,e);return super.setAttribute(t,this.contentAttr,""),t}},A_=(()=>{class r extends ls{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}static{this.\u0275fac=function(t){return new(t||r)(U(ae))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})(),_d=["alt","control","meta","shift"],O_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F_={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},N_=(()=>{class r extends ls{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,t,n){let o=r.parseEventName(t),c=r.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zo().onAndCancel(e,o.domEventName,c))}static parseEventName(e){let t=e.toLowerCase().split("."),n=t.shift();if(t.length===0||!(n==="keydown"||n==="keyup"))return null;let o=r._normalizeKey(t.pop()),c="",u=t.indexOf("code");if(u>-1&&(t.splice(u,1),c="code."),_d.forEach(m=>{let p=t.indexOf(m);p>-1&&(t.splice(p,1),c+=m+".")}),c+=o,t.length!=0||o.length===0)return null;let h={};return h.domEventName=n,h.fullKey=c,h}static matchEventFullKeyCode(e,t){let n=O_[e.key]||e.key,o="";return t.indexOf("code.")>-1&&(n=e.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),_d.forEach(c=>{if(c!==n){let u=F_[c];u(e)&&(o+=c+".")}}),o+=n,o===t)}static eventCallback(e,t,n){return o=>{r.matchEventFullKeyCode(o,e)&&n.runGuarded(()=>t(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(t){return new(t||r)(U(ae))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})();function Cd(r,i){return rd(E({rootComponent:r},P_(i)))}function P_(r){return{appProviders:[...B_,...r?.providers??[]],platformProviders:$_}}function L_(){ia.makeCurrent()}function j_(){return new is}function U_(){return Wl(document),document}var $_=[{provide:ri,useValue:dd},{provide:ql,useValue:L_,multi:!0},{provide:ae,useFactory:U_,deps:[]}];var B_=[{provide:Vl,useValue:"root"},{provide:is,useFactory:j_,deps:[]},{provide:ra,useClass:A_,multi:!0,deps:[ae,me,ri]},{provide:ra,useClass:N_,multi:!0,deps:[ae]},ds,wd,yd,{provide:ns,useExisting:ds},{provide:hd,useClass:D_,deps:[]},[]];var kd=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(t){return new(t||r)(U(ae))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var z="primary",en=Symbol("RouteTitle"),da=class{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yi(r){return new da(r)}function V_(r,i,e){let t=e.path.split("/");if(t.length>r.length||e.pathMatch==="full"&&(i.hasChildren()||t.length<r.length))return null;let n={};for(let o=0;o<t.length;o++){let c=t[o],u=r[o];if(c[0]===":")n[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:r.slice(0,t.length),posParams:n}}function Y_(r,i){if(r.length!==i.length)return!1;for(let e=0;e<r.length;++e)if(!wt(r[e],i[e]))return!1;return!0}function wt(r,i){let e=r?ua(r):void 0,t=i?ua(i):void 0;if(!e||!t||e.length!=t.length)return!1;let n;for(let o=0;o<e.length;o++)if(n=e[o],!Ad(r[n],i[n]))return!1;return!0}function ua(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Ad(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;let e=[...r].sort(),t=[...i].sort();return e.every((n,o)=>t[o]===n)}else return r===i}function Od(r){return r.length>0?r[r.length-1]:null}function Jt(r){return Pi(r)?r:ed(r)?dt(Promise.resolve(r)):L(r)}var W_={exact:Nd,subset:Pd},Fd={exact:q_,subset:G_,ignored:()=>!0};function Dd(r,i,e){return W_[e.paths](r.root,i.root,e.matrixParams)&&Fd[e.queryParams](r.queryParams,i.queryParams)&&!(e.fragment==="exact"&&r.fragment!==i.fragment)}function q_(r,i){return wt(r,i)}function Nd(r,i,e){if(!di(r.segments,i.segments)||!ms(r.segments,i.segments,e)||r.numberOfChildren!==i.numberOfChildren)return!1;for(let t in i.children)if(!r.children[t]||!Nd(r.children[t],i.children[t],e))return!1;return!0}function G_(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(e=>Ad(r[e],i[e]))}function Pd(r,i,e){return Ld(r,i,i.segments,e)}function Ld(r,i,e,t){if(r.segments.length>e.length){let n=r.segments.slice(0,e.length);return!(!di(n,e)||i.hasChildren()||!ms(n,e,t))}else if(r.segments.length===e.length){if(!di(r.segments,e)||!ms(r.segments,e,t))return!1;for(let n in i.children)if(!r.children[n]||!Pd(r.children[n],i.children[n],t))return!1;return!0}else{let n=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!di(r.segments,n)||!ms(r.segments,n,t)||!r.children[z]?!1:Ld(r.children[z],i,o,t)}}function ms(r,i,e){return i.every((t,n)=>Fd[e](r[n].parameters,t.parameters))}var jt=class{constructor(i=new K([],{}),e={},t=null){this.root=i,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Yi(this.queryParams),this._queryParamMap}toString(){return J_.serialize(this)}},K=class{constructor(i,e){this.segments=i,this.children=e,this.parent=null,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ps(this)}},li=class{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=Yi(this.parameters),this._parameterMap}toString(){return Ud(this)}};function K_(r,i){return di(r,i)&&r.every((e,t)=>wt(e.parameters,i[t].parameters))}function di(r,i){return r.length!==i.length?!1:r.every((e,t)=>e.path===i[t].path)}function Z_(r,i){let e=[];return Object.entries(r.children).forEach(([t,n])=>{t===z&&(e=e.concat(i(n,t)))}),Object.entries(r.children).forEach(([t,n])=>{t!==z&&(e=e.concat(i(n,t)))}),e}var La=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:()=>new Yr,providedIn:"root"})}}return r})(),Yr=class{parse(i){let e=new fa(i);return new jt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${Ur(i.root,!0)}`,t=ev(i.queryParams),n=typeof i.fragment=="string"?`#${Q_(i.fragment)}`:"";return`${e}${t}${n}`}},J_=new Yr;function ps(r){return r.segments.map(i=>Ud(i)).join("/")}function Ur(r,i){if(!r.hasChildren())return ps(r);if(i){let e=r.children[z]?Ur(r.children[z],!1):"",t=[];return Object.entries(r.children).forEach(([n,o])=>{n!==z&&t.push(`${n}:${Ur(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=Z_(r,(t,n)=>n===z?[Ur(r.children[z],!1)]:[`${n}:${Ur(t,!1)}`]);return Object.keys(r.children).length===1&&r.children[z]!=null?`${ps(r)}/${e[0]}`:`${ps(r)}/(${e.join("//")})`}}function jd(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hs(r){return jd(r).replace(/%3B/gi,";")}function Q_(r){return encodeURI(r)}function ha(r){return jd(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gs(r){return decodeURIComponent(r)}function Rd(r){return gs(r.replace(/\+/g,"%20"))}function Ud(r){return`${ha(r.path)}${X_(r.parameters)}`}function X_(r){return Object.entries(r).map(([i,e])=>`;${ha(i)}=${ha(e)}`).join("")}function ev(r){let i=Object.entries(r).map(([e,t])=>Array.isArray(t)?t.map(n=>`${hs(e)}=${hs(n)}`).join("&"):`${hs(e)}=${hs(t)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var tv=/^[^\/()?;#]+/;function oa(r){let i=r.match(tv);return i?i[0]:""}var iv=/^[^\/()?;=#]+/;function rv(r){let i=r.match(iv);return i?i[0]:""}var nv=/^[^=?&#]+/;function sv(r){let i=r.match(nv);return i?i[0]:""}var ov=/^[^&#]+/;function av(r){let i=r.match(ov);return i?i[0]:""}var fa=class{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(t[z]=new K(i,e)),t}parseSegment(){let i=oa(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(i),new li(gs(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=rv(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let n=oa(this.remaining);n&&(t=n,this.capture(t))}i[gs(e)]=gs(t)}parseQueryParam(i){let e=sv(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let c=av(this.remaining);c&&(t=c,this.capture(t))}let n=Rd(e),o=Rd(t);if(i.hasOwnProperty(n)){let c=i[n];Array.isArray(c)||(c=[c],i[n]=c),c.push(o)}else i[n]=o}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=oa(this.remaining),n=this.remaining[t.length];if(n!=="/"&&n!==")"&&n!==";")throw new ue(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=z);let c=this.parseChildren();e[o]=Object.keys(c).length===1?c[z]:new K([],c),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new ue(4011,!1)}};function $d(r){return r.segments.length>0?new K([],{[z]:r}):r}function Bd(r){let i={};for(let[t,n]of Object.entries(r.children)){let o=Bd(n);if(t===z&&o.segments.length===0&&o.hasChildren())for(let[c,u]of Object.entries(o.children))i[c]=u;else(o.segments.length>0||o.hasChildren())&&(i[t]=o)}let e=new K(r.segments,i);return cv(e)}function cv(r){if(r.numberOfChildren===1&&r.children[z]){let i=r.children[z];return new K(r.segments.concat(i.segments),i.children)}return r}function ui(r){return r instanceof jt}function lv(r,i,e=null,t=null){let n=zd(r);return Hd(n,i,e,t)}function zd(r){let i;function e(o){let c={};for(let h of o.children){let m=e(h);c[h.outlet]=m}let u=new K(o.url,c);return o===r&&(i=u),u}let t=e(r.root),n=$d(t);return i??n}function Hd(r,i,e,t){let n=r;for(;n.parent;)n=n.parent;if(i.length===0)return aa(n,n,n,e,t);let o=dv(i);if(o.toRoot())return aa(n,n,new K([],{}),e,t);let c=uv(o,n,r),u=c.processChildren?zr(c.segmentGroup,c.index,o.commands):Yd(c.segmentGroup,c.index,o.commands);return aa(n,c.segmentGroup,u,e,t)}function _s(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Wr(r){return typeof r=="object"&&r!=null&&r.outlets}function aa(r,i,e,t,n){let o={};t&&Object.entries(t).forEach(([h,m])=>{o[h]=Array.isArray(m)?m.map(p=>`${p}`):`${m}`});let c;r===i?c=e:c=Vd(r,i,e);let u=$d(Bd(c));return new jt(u,o,n)}function Vd(r,i,e){let t={};return Object.entries(r.children).forEach(([n,o])=>{o===i?t[n]=e:t[n]=Vd(o,i,e)}),new K(r.segments,t)}var vs=class{constructor(i,e,t){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=t,i&&t.length>0&&_s(t[0]))throw new ue(4003,!1);let n=t.find(Wr);if(n&&n!==Od(t))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dv(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new vs(!0,0,r);let i=0,e=!1,t=r.reduce((n,o,c)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([h,m])=>{u[h]=typeof m=="string"?m.split("/"):m}),[...n,{outlets:u}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:c===0?(o.split("/").forEach((u,h)=>{h==0&&u==="."||(h==0&&u===""?e=!0:u===".."?i++:u!=""&&n.push(u))}),n):[...n,o]},[]);return new vs(e,i,t)}var zi=class{constructor(i,e,t){this.segmentGroup=i,this.processChildren=e,this.index=t}};function uv(r,i,e){if(r.isAbsolute)return new zi(i,!0,0);if(!e)return new zi(i,!1,NaN);if(e.parent===null)return new zi(e,!0,0);let t=_s(r.commands[0])?0:1,n=e.segments.length-1+t;return hv(e,n,r.numberOfDoubleDots)}function hv(r,i,e){let t=r,n=i,o=e;for(;o>n;){if(o-=n,t=t.parent,!t)throw new ue(4005,!1);n=t.segments.length}return new zi(t,!1,n-o)}function fv(r){return Wr(r[0])?r[0].outlets:{[z]:r}}function Yd(r,i,e){if(r??=new K([],{}),r.segments.length===0&&r.hasChildren())return zr(r,i,e);let t=mv(r,i,e),n=e.slice(t.commandIndex);if(t.match&&t.pathIndex<r.segments.length){let o=new K(r.segments.slice(0,t.pathIndex),{});return o.children[z]=new K(r.segments.slice(t.pathIndex),r.children),zr(o,0,n)}else return t.match&&n.length===0?new K(r.segments,{}):t.match&&!r.hasChildren()?ma(r,i,e):t.match?zr(r,0,n):ma(r,i,e)}function zr(r,i,e){if(e.length===0)return new K(r.segments,{});{let t=fv(e),n={};if(Object.keys(t).some(o=>o!==z)&&r.children[z]&&r.numberOfChildren===1&&r.children[z].segments.length===0){let o=zr(r.children[z],i,e);return new K(r.segments,o.children)}return Object.entries(t).forEach(([o,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(n[o]=Yd(r.children[o],i,c))}),Object.entries(r.children).forEach(([o,c])=>{t[o]===void 0&&(n[o]=c)}),new K(r.segments,n)}}function mv(r,i,e){let t=0,n=i,o={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(t>=e.length)return o;let c=r.segments[n],u=e[t];if(Wr(u))break;let h=`${u}`,m=t<e.length-1?e[t+1]:null;if(n>0&&h===void 0)break;if(h&&m&&typeof m=="object"&&m.outlets===void 0){if(!Ed(h,m,c))return o;t+=2}else{if(!Ed(h,{},c))return o;t++}n++}return{match:!0,pathIndex:n,commandIndex:t}}function ma(r,i,e){let t=r.segments.slice(0,i),n=0;for(;n<e.length;){let o=e[n];if(Wr(o)){let h=pv(o.outlets);return new K(t,h)}if(n===0&&_s(e[0])){let h=r.segments[i];t.push(new li(h.path,xd(e[0]))),n++;continue}let c=Wr(o)?o.outlets[z]:`${o}`,u=n<e.length-1?e[n+1]:null;c&&u&&_s(u)?(t.push(new li(c,xd(u))),n+=2):(t.push(new li(c,{})),n++)}return new K(t,{})}function pv(r){let i={};return Object.entries(r).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(i[e]=ma(new K([],{}),0,t))}),i}function xd(r){let i={};return Object.entries(r).forEach(([e,t])=>i[e]=`${t}`),i}function Ed(r,i,e){return r==e.path&&wt(i,e.parameters)}var Hr="imperative",Re=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Re||{}),rt=class{constructor(i,e){this.id=i,this.url=e}},qr=class extends rt{constructor(i,e,t="imperative",n=null){super(i,e),this.type=Re.NavigationStart,this.navigationTrigger=t,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends rt{constructor(i,e,t){super(i,e),this.urlAfterRedirects=t,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Ge||{}),pa=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(pa||{}),Lt=class extends rt{constructor(i,e,t,n){super(i,e),this.reason=t,this.code=n,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hi=class extends rt{constructor(i,e,t,n){super(i,e),this.reason=t,this.code=n,this.type=Re.NavigationSkipped}},Gr=class extends rt{constructor(i,e,t,n){super(i,e),this.error=t,this.target=n,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ys=class extends rt{constructor(i,e,t,n){super(i,e),this.urlAfterRedirects=t,this.state=n,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ga=class extends rt{constructor(i,e,t,n){super(i,e),this.urlAfterRedirects=t,this.state=n,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_a=class extends rt{constructor(i,e,t,n,o){super(i,e),this.urlAfterRedirects=t,this.state=n,this.shouldActivate=o,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},va=class extends rt{constructor(i,e,t,n){super(i,e),this.urlAfterRedirects=t,this.state=n,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ya=class extends rt{constructor(i,e,t,n){super(i,e),this.urlAfterRedirects=t,this.state=n,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wa=class{constructor(i){this.route=i,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ba=class{constructor(i){this.route=i,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sa=class{constructor(i){this.snapshot=i,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ca=class{constructor(i){this.snapshot=i,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ka=class{constructor(i){this.snapshot=i,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Da=class{constructor(i){this.snapshot=i,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Kr=class{},Wi=class{constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function gv(r,i){return r.providers&&!r._injector&&(r._injector=Xl(r.providers,i,`Route: ${r.path}`)),r._injector??i}function ht(r){return r.outlet||z}function _v(r,i){let e=r.filter(t=>ht(t)===i);return e.push(...r.filter(t=>ht(t)!==i)),e}function tn(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let i=r.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ra=class{get injector(){return tn(this.route?.snapshot)??this.rootInjector}set injector(i){}constructor(i){this.rootInjector=i,this.outlet=null,this.route=null,this.children=new Rs(this.rootInjector),this.attachRef=null}},Rs=(()=>{class r{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,t){let n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ra(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(t){return new(t||r)(U(Xn))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ws=class{constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=xa(i,this._root);return e?e.children.map(t=>t.value):[]}firstChild(i){let e=xa(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=Ea(i,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==i)}pathFromRoot(i){return Ea(i,this._root).map(e=>e.value)}};function xa(r,i){if(r===i.value)return i;for(let e of i.children){let t=xa(r,e);if(t)return t}return null}function Ea(r,i){if(r===i.value)return[i];for(let e of i.children){let t=Ea(r,e);if(t.length)return t.unshift(i),t}return[]}var qe=class{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function Bi(r){let i={};return r&&r.children.forEach(e=>i[e.value.outlet]=e),i}var bs=class extends ws{constructor(i,e){super(i),this.snapshot=e,ja(this,i)}toString(){return this.snapshot.toString()}};function Wd(r){let i=vv(r),e=new Ue([new li("",{})]),t=new Ue({}),n=new Ue({}),o=new Ue({}),c=new Ue(""),u=new fi(e,t,o,c,n,z,r,i.root);return u.snapshot=i.root,new bs(new qe(u,[]),i)}function vv(r){let i={},e={},t={},n="",o=new Hi([],i,t,n,e,z,r,null,{});return new Cs("",new qe(o,[]))}var fi=class{constructor(i,e,t,n,o,c,u,h){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=n,this.dataSubject=o,this.outlet=c,this.component=u,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(Z(m=>m[en]))??L(void 0),this.url=i,this.params=e,this.queryParams=t,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(i=>Yi(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(i=>Yi(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ss(r,i,e="emptyOnly"){let t,{routeConfig:n}=r;return i!==null&&(e==="always"||n?.path===""||!i.component&&!i.routeConfig?.loadComponent)?t={params:E(E({},i.params),r.params),data:E(E({},i.data),r.data),resolve:E(E(E(E({},r.data),i.data),n?.data),r._resolvedData)}:t={params:E({},r.params),data:E({},r.data),resolve:E(E({},r.data),r._resolvedData??{})},n&&Gd(n)&&(t.resolve[en]=n.title),t}var Hi=class{get title(){return this.data?.[en]}constructor(i,e,t,n,o,c,u,h,m){this.url=i,this.params=e,this.queryParams=t,this.fragment=n,this.data=o,this.outlet=c,this.component=u,this.routeConfig=h,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yi(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},Cs=class extends ws{constructor(i,e){super(e),this.url=i,ja(this,e)}toString(){return qd(this._root)}};function ja(r,i){i.value._routerState=r,i.children.forEach(e=>ja(r,e))}function qd(r){let i=r.children.length>0?` { ${r.children.map(qd).join(", ")} } `:"";return`${r.value}${i}`}function ca(r){if(r.snapshot){let i=r.snapshot,e=r._futureSnapshot;r.snapshot=e,wt(i.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),wt(i.params,e.params)||r.paramsSubject.next(e.params),Y_(i.url,e.url)||r.urlSubject.next(e.url),wt(i.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Ia(r,i){let e=wt(r.params,i.params)&&K_(r.url,i.url),t=!r.parent!=!i.parent;return e&&!t&&(!r.parent||Ia(r.parent,i.parent))}function Gd(r){return typeof r.title=="string"||r.title===null}var rn=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=O(Rs),this.location=O(Pt),this.changeDetector=O(oi),this.inputBinder=O(Ua,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:n}=e.name;if(t)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=e;let n=this.location,c=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new Ta(e,u,n.injector);this.activated=n.createComponent(c,{index:n.length,injector:h,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=W({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nt]})}}return r})(),Ta=class r{__ngOutletInjector(i){return new r(this.route,this.childContexts,i)}constructor(i,e,t){this.route=i,this.childContexts=e,this.parent=t}get(i,e){return i===fi?this.route:i===Rs?this.childContexts:this.parent.get(i,e)}},Ua=new Q("");function yv(r,i,e){let t=Zr(r,i._root,e?e._root:void 0);return new bs(t,i)}function Zr(r,i,e){if(e&&r.shouldReuseRoute(i.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=i.value;let n=wv(r,i,e);return new qe(t,n)}else{if(r.shouldAttach(i.value)){let o=r.retrieve(i.value);if(o!==null){let c=o.route;return c.value._futureSnapshot=i.value,c.children=i.children.map(u=>Zr(r,u)),c}}let t=bv(i.value),n=i.children.map(o=>Zr(r,o));return new qe(t,n)}}function wv(r,i,e){return i.children.map(t=>{for(let n of e.children)if(r.shouldReuseRoute(t.value,n.value.snapshot))return Zr(r,t,n);return Zr(r,t)})}function bv(r){return new fi(new Ue(r.url),new Ue(r.params),new Ue(r.queryParams),new Ue(r.fragment),new Ue(r.data),r.outlet,r.component,r)}var Jr=class{constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},Kd="ngNavigationCancelingError";function ks(r,i){let{redirectTo:e,navigationBehaviorOptions:t}=ui(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,n=Zd(!1,Ge.Redirect);return n.url=e,n.navigationBehaviorOptions=t,n}function Zd(r,i){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[Kd]=!0,e.cancellationCode=i,e}function Sv(r){return Jd(r)&&ui(r.url)}function Jd(r){return!!r&&r[Kd]}var Cv=(r,i,e,t)=>Z(n=>(new Ma(i,n.targetRouterState,n.currentRouterState,e,t).activate(r),n)),Ma=class{constructor(i,e,t,n,o){this.routeReuseStrategy=i,this.futureState=e,this.currState=t,this.forwardEvent=n,this.inputBindingEnabled=o}activate(i){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,i),ca(this.futureState.root),this.activateChildRoutes(e,t,i)}deactivateChildRoutes(i,e,t){let n=Bi(e);i.children.forEach(o=>{let c=o.value.outlet;this.deactivateRoutes(o,n[c],t),delete n[c]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(i,e,t){let n=i.value,o=e?e.value:null;if(n===o)if(n.component){let c=t.getContext(n.outlet);c&&this.deactivateChildRoutes(i,e,c.children)}else this.deactivateChildRoutes(i,e,t);else o&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let t=e.getContext(i.value.outlet),n=t&&i.value.component?t.children:e,o=Bi(i);for(let c of Object.values(o))this.deactivateRouteAndItsChildren(c,n);if(t&&t.outlet){let c=t.outlet.detach(),u=t.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:c,route:i,contexts:u})}}deactivateRouteAndOutlet(i,e){let t=e.getContext(i.value.outlet),n=t&&i.value.component?t.children:e,o=Bi(i);for(let c of Object.values(o))this.deactivateRouteAndItsChildren(c,n);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(i,e,t){let n=Bi(e);i.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],t),this.forwardEvent(new Da(o.value.snapshot))}),i.children.length&&this.forwardEvent(new Ca(i.value.snapshot))}activateRoutes(i,e,t){let n=i.value,o=e?e.value:null;if(ca(n),n===o)if(n.component){let c=t.getOrCreateContext(n.outlet);this.activateChildRoutes(i,e,c.children)}else this.activateChildRoutes(i,e,t);else if(n.component){let c=t.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let u=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),ca(u.route.value),this.activateChildRoutes(i,null,c.children)}else c.attachRef=null,c.route=n,c.outlet&&c.outlet.activateWith(n,c.injector),this.activateChildRoutes(i,null,c.children)}else this.activateChildRoutes(i,null,t)}},Ds=class{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Vi=class{constructor(i,e){this.component=i,this.route=e}};function kv(r,i,e){let t=r._root,n=i?i._root:null;return $r(t,n,e,[t.value])}function Dv(r){let i=r.routeConfig?r.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:r,guards:i}}function Gi(r,i){let e=Symbol(),t=i.get(r,e);return t===e?typeof r=="function"&&!Hl(r)?r:i.get(r):t}function $r(r,i,e,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bi(i);return r.children.forEach(c=>{Rv(c,o[c.value.outlet],e,t.concat([c.value]),n),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,u])=>Vr(u,e.getContext(c),n)),n}function Rv(r,i,e,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,c=i?i.value:null,u=e?e.getContext(r.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){let h=xv(c,o,o.routeConfig.runGuardsAndResolvers);h?n.canActivateChecks.push(new Ds(t)):(o.data=c.data,o._resolvedData=c._resolvedData),o.component?$r(r,i,u?u.children:null,t,n):$r(r,i,e,t,n),h&&u&&u.outlet&&u.outlet.isActivated&&n.canDeactivateChecks.push(new Vi(u.outlet.component,c))}else c&&Vr(i,u,n),n.canActivateChecks.push(new Ds(t)),o.component?$r(r,null,u?u.children:null,t,n):$r(r,null,e,t,n);return n}function xv(r,i,e){if(typeof e=="function")return e(r,i);switch(e){case"pathParamsChange":return!di(r.url,i.url);case"pathParamsOrQueryParamsChange":return!di(r.url,i.url)||!wt(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ia(r,i)||!wt(r.queryParams,i.queryParams);case"paramsChange":default:return!Ia(r,i)}}function Vr(r,i,e){let t=Bi(r),n=r.value;Object.entries(t).forEach(([o,c])=>{n.component?i?Vr(c,i.children.getContext(o),e):Vr(c,null,e):Vr(c,i,e)}),n.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new Vi(i.outlet.component,n)):e.canDeactivateChecks.push(new Vi(null,n)):e.canDeactivateChecks.push(new Vi(null,n))}function nn(r){return typeof r=="function"}function Ev(r){return typeof r=="boolean"}function Iv(r){return r&&nn(r.canLoad)}function Tv(r){return r&&nn(r.canActivate)}function Mv(r){return r&&nn(r.canActivateChild)}function Av(r){return r&&nn(r.canDeactivate)}function Ov(r){return r&&nn(r.canMatch)}function Qd(r){return r instanceof Pl||r?.name==="EmptyError"}var fs=Symbol("INITIAL_VALUE");function qi(){return ut(r=>Cr(r.map(i=>i.pipe(Gt(1),Dr(fs)))).pipe(Z(i=>{for(let e of i)if(e!==!0){if(e===fs)return fs;if(e===!1||Fv(e))return e}return!0}),ii(i=>i!==fs),Gt(1)))}function Fv(r){return ui(r)||r instanceof Jr}function Nv(r,i){return Xe(e=>{let{targetSnapshot:t,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return c.length===0&&o.length===0?L(se(E({},e),{guardsResult:!0})):Pv(c,t,n,r).pipe(Xe(u=>u&&Ev(u)?Lv(t,o,r,i):L(u)),Z(u=>se(E({},e),{guardsResult:u})))})}function Pv(r,i,e,t){return dt(r).pipe(Xe(n=>zv(n.component,n.route,e,i,t)),Kt(n=>n!==!0,!0))}function Lv(r,i,e,t){return dt(i).pipe(kr(n=>Jn(Uv(n.route.parent,t),jv(n.route,t),Bv(r,n.path,e),$v(r,n.route,e))),Kt(n=>n!==!0,!0))}function jv(r,i){return r!==null&&i&&i(new ka(r)),L(!0)}function Uv(r,i){return r!==null&&i&&i(new Sa(r)),L(!0)}function $v(r,i,e){let t=i.routeConfig?i.routeConfig.canActivate:null;if(!t||t.length===0)return L(!0);let n=t.map(o=>zo(()=>{let c=tn(i)??e,u=Gi(o,c),h=Tv(u)?u.canActivate(i,r):Ft(c,()=>u(i,r));return Jt(h).pipe(Kt())}));return L(n).pipe(qi())}function Bv(r,i,e){let t=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(c=>Dv(c)).filter(c=>c!==null).map(c=>zo(()=>{let u=c.guards.map(h=>{let m=tn(c.node)??e,p=Gi(h,m),_=Mv(p)?p.canActivateChild(t,r):Ft(m,()=>p(t,r));return Jt(_).pipe(Kt())});return L(u).pipe(qi())}));return L(o).pipe(qi())}function zv(r,i,e,t,n){let o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let c=o.map(u=>{let h=tn(i)??n,m=Gi(u,h),p=Av(m)?m.canDeactivate(r,i,e,t):Ft(h,()=>m(r,i,e,t));return Jt(p).pipe(Kt())});return L(c).pipe(qi())}function Hv(r,i,e,t){let n=i.canLoad;if(n===void 0||n.length===0)return L(!0);let o=n.map(c=>{let u=Gi(c,r),h=Iv(u)?u.canLoad(i,e):Ft(r,()=>u(i,e));return Jt(h)});return L(o).pipe(qi(),Xd(t))}function Xd(r){return Nl(Ie(i=>{if(typeof i!="boolean")throw ks(r,i)}),Z(i=>i===!0))}function Vv(r,i,e,t){let n=i.canMatch;if(!n||n.length===0)return L(!0);let o=n.map(c=>{let u=Gi(c,r),h=Ov(u)?u.canMatch(i,e):Ft(r,()=>u(i,e));return Jt(h)});return L(o).pipe(qi(),Xd(t))}var Qr=class{constructor(i){this.segmentGroup=i||null}},Xr=class extends Error{constructor(i){super(),this.urlTree=i}};function $i(r){return Sr(new Qr(r))}function Yv(r){return Sr(new ue(4e3,!1))}function Wv(r){return Sr(Zd(!1,Ge.GuardRejected))}var Aa=class{constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let t=[],n=e.root;for(;;){if(t=t.concat(n.segments),n.numberOfChildren===0)return L(t);if(n.numberOfChildren>1||!n.children[z])return Yv(`${i.redirectTo}`);n=n.children[z]}}applyRedirectCommands(i,e,t,n,o){if(typeof e!="string"){let u=e,{queryParams:h,fragment:m,routeConfig:p,url:_,outlet:w,params:b,data:S,title:T}=n,I=Ft(o,()=>u({params:b,data:S,queryParams:h,fragment:m,routeConfig:p,url:_,outlet:w,title:T}));if(I instanceof jt)throw new Xr(I);e=I}let c=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,t);if(e[0]==="/")throw new Xr(c);return c}applyRedirectCreateUrlTree(i,e,t,n){let o=this.createSegmentGroup(i,e.root,t,n);return new jt(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let t={};return Object.entries(i).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);t[n]=e[u]}else t[n]=o}),t}createSegmentGroup(i,e,t,n){let o=this.createSegments(i,e.segments,t,n),c={};return Object.entries(e.children).forEach(([u,h])=>{c[u]=this.createSegmentGroup(i,h,t,n)}),new K(o,c)}createSegments(i,e,t,n){return e.map(o=>o.path[0]===":"?this.findPosParam(i,o,n):this.findOrReturn(o,t))}findPosParam(i,e,t){let n=t[e.path.substring(1)];if(!n)throw new ue(4001,!1);return n}findOrReturn(i,e){let t=0;for(let n of e){if(n.path===i.path)return e.splice(t),n;t++}return i}},Oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qv(r,i,e,t,n){let o=eu(r,i,e);return o.matched?(t=gv(i,t),Vv(t,i,e,n).pipe(Z(c=>c===!0?o:E({},Oa)))):L(o)}function eu(r,i,e){if(i.path==="**")return Gv(e);if(i.path==="")return i.pathMatch==="full"&&(r.hasChildren()||e.length>0)?E({},Oa):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(i.matcher||V_)(e,r,i);if(!n)return E({},Oa);let o={};Object.entries(n.posParams??{}).forEach(([u,h])=>{o[u]=h.path});let c=n.consumed.length>0?E(E({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:c,positionalParamSegments:n.posParams??{}}}function Gv(r){return{matched:!0,parameters:r.length>0?Od(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function Id(r,i,e,t){return e.length>0&&Jv(r,e,t)?{segmentGroup:new K(i,Zv(t,new K(e,r.children))),slicedSegments:[]}:e.length===0&&Qv(r,e,t)?{segmentGroup:new K(r.segments,Kv(r,e,t,r.children)),slicedSegments:e}:{segmentGroup:new K(r.segments,r.children),slicedSegments:e}}function Kv(r,i,e,t){let n={};for(let o of e)if(xs(r,i,o)&&!t[ht(o)]){let c=new K([],{});n[ht(o)]=c}return E(E({},t),n)}function Zv(r,i){let e={};e[z]=i;for(let t of r)if(t.path===""&&ht(t)!==z){let n=new K([],{});e[ht(t)]=n}return e}function Jv(r,i,e){return e.some(t=>xs(r,i,t)&&ht(t)!==z)}function Qv(r,i,e){return e.some(t=>xs(r,i,t))}function xs(r,i,e){return(r.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Xv(r,i,e){return i.length===0&&!r.children[e]}var Fa=class{};function ey(r,i,e,t,n,o,c="emptyOnly"){return new Na(r,i,e,t,n,c,o).recognize()}var ty=31,Na=class{constructor(i,e,t,n,o,c,u){this.injector=i,this.configLoader=e,this.rootComponentType=t,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=u,this.applyRedirects=new Aa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new ue(4002,`'${i.segmentGroup}'`)}recognize(){let i=Id(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Z(({children:e,rootSnapshot:t})=>{let n=new qe(t,e),o=new Cs("",n),c=lv(t,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),{state:o,tree:c}}))}match(i){let e=new Hi([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,z,e).pipe(Z(t=>({children:t,rootSnapshot:e})),Li(t=>{if(t instanceof Xr)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof Qr?this.noMatchError(t):t}))}processSegmentGroup(i,e,t,n,o){return t.segments.length===0&&t.hasChildren()?this.processChildren(i,e,t,o):this.processSegment(i,e,t,t.segments,n,!0,o).pipe(Z(c=>c instanceof qe?[c]:[]))}processChildren(i,e,t,n){let o=[];for(let c of Object.keys(t.children))c==="primary"?o.unshift(c):o.push(c);return dt(o).pipe(kr(c=>{let u=t.children[c],h=_v(e,c);return this.processSegmentGroup(i,h,u,c,n)}),Bl((c,u)=>(c.push(...u),c)),Ho(null),$l(),Xe(c=>{if(c===null)return $i(t);let u=tu(c);return iy(u),L(u)}))}processSegment(i,e,t,n,o,c,u){return dt(e).pipe(kr(h=>this.processSegmentAgainstRoute(h._injector??i,e,h,t,n,o,c,u).pipe(Li(m=>{if(m instanceof Qr)return L(null);throw m}))),Kt(h=>!!h),Li(h=>{if(Qd(h))return Xv(t,n,o)?L(new Fa):$i(t);throw h}))}processSegmentAgainstRoute(i,e,t,n,o,c,u,h){return ht(t)!==c&&(c===z||!xs(n,o,t))?$i(n):t.redirectTo===void 0?this.matchSegmentAgainstRoute(i,n,t,o,c,h):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(i,n,e,t,o,c,h):$i(n)}expandSegmentAgainstRouteUsingRedirect(i,e,t,n,o,c,u){let{matched:h,parameters:m,consumedSegments:p,positionalParamSegments:_,remainingSegments:w}=eu(e,n,o);if(!h)return $i(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ty&&(this.allowRedirects=!1));let b=new Hi(o,m,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Td(n),ht(n),n.component??n._loadedComponent??null,n,Md(n)),S=Ss(b,u,this.paramsInheritanceStrategy);b.params=Object.freeze(S.params),b.data=Object.freeze(S.data);let T=this.applyRedirects.applyRedirectCommands(p,n.redirectTo,_,b,i);return this.applyRedirects.lineralizeSegments(n,T).pipe(Xe(I=>this.processSegment(i,t,e,I.concat(w),c,!1,u)))}matchSegmentAgainstRoute(i,e,t,n,o,c){let u=qv(e,t,n,i,this.urlSerializer);return t.path==="**"&&(e.children={}),u.pipe(ut(h=>h.matched?(i=t._injector??i,this.getChildConfig(i,t,n).pipe(ut(({routes:m})=>{let p=t._loadedInjector??i,{parameters:_,consumedSegments:w,remainingSegments:b}=h,S=new Hi(w,_,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Td(t),ht(t),t.component??t._loadedComponent??null,t,Md(t)),T=Ss(S,c,this.paramsInheritanceStrategy);S.params=Object.freeze(T.params),S.data=Object.freeze(T.data);let{segmentGroup:I,slicedSegments:j}=Id(e,w,b,m);if(j.length===0&&I.hasChildren())return this.processChildren(p,m,I,S).pipe(Z(le=>new qe(S,le)));if(m.length===0&&j.length===0)return L(new qe(S,[]));let ce=ht(t)===o;return this.processSegment(p,m,I,j,ce?z:o,!0,S).pipe(Z(le=>new qe(S,le instanceof qe?[le]:[])))}))):$i(e)))}getChildConfig(i,e,t){return e.children?L({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?L({routes:e._loadedRoutes,injector:e._loadedInjector}):Hv(i,e,t,this.urlSerializer).pipe(Xe(n=>n?this.configLoader.loadChildren(i,e).pipe(Ie(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Wv(e))):L({routes:[],injector:i})}};function iy(r){r.sort((i,e)=>i.value.outlet===z?-1:e.value.outlet===z?1:i.value.outlet.localeCompare(e.value.outlet))}function ry(r){let i=r.value.routeConfig;return i&&i.path===""}function tu(r){let i=[],e=new Set;for(let t of r){if(!ry(t)){i.push(t);continue}let n=i.find(o=>t.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...t.children),e.add(n)):i.push(t)}for(let t of e){let n=tu(t.children);i.push(new qe(t.value,n))}return i.filter(t=>!e.has(t))}function Td(r){return r.data||{}}function Md(r){return r.resolve||{}}function ny(r,i,e,t,n,o){return Xe(c=>ey(r,i,e,t,c.extractedUrl,n,o).pipe(Z(({state:u,tree:h})=>se(E({},c),{targetSnapshot:u,urlAfterRedirects:h}))))}function sy(r,i){return Xe(e=>{let{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return L(e);let o=new Set(n.map(h=>h.route)),c=new Set;for(let h of o)if(!c.has(h))for(let m of iu(h))c.add(m);let u=0;return dt(c).pipe(kr(h=>o.has(h)?oy(h,t,r,i):(h.data=Ss(h,h.parent,r).resolve,L(void 0))),Ie(()=>u++),Vo(1),Xe(h=>u===c.size?L(e):qt))})}function iu(r){let i=r.children.map(e=>iu(e)).flat();return[r,...i]}function oy(r,i,e,t){let n=r.routeConfig,o=r._resolve;return n?.title!==void 0&&!Gd(n)&&(o[en]=n.title),ay(o,r,i,t).pipe(Z(c=>(r._resolvedData=c,r.data=Ss(r,r.parent,e).resolve,null)))}function ay(r,i,e,t){let n=ua(r);if(n.length===0)return L({});let o={};return dt(n).pipe(Xe(c=>cy(r[c],i,e,t).pipe(Kt(),Ie(u=>{if(u instanceof Jr)throw ks(new Yr,u);o[c]=u}))),Vo(1),Ul(o),Li(c=>Qd(c)?qt:Sr(c)))}function cy(r,i,e,t){let n=tn(i)??t,o=Gi(r,n),c=o.resolve?o.resolve(i,e):Ft(n,()=>o(i,e));return Jt(c)}function la(r){return ut(i=>{let e=r(i);return e?dt(e).pipe(Z(()=>i)):L(i)})}var ru=(()=>{class r{buildTitle(e){let t,n=e.root;for(;n!==void 0;)t=this.getResolvedTitleForRoute(n)??t,n=n.children.find(o=>o.outlet===z);return t}getResolvedTitleForRoute(e){return e.data[en]}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:()=>O(ly),providedIn:"root"})}}return r})(),ly=(()=>{class r extends ru{constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static{this.\u0275fac=function(t){return new(t||r)(U(kd))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),$a=new Q("",{providedIn:"root",factory:()=>({})}),dy=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["ng-component"]],standalone:!0,features:[ee],decls:1,vars:0,template:function(t,n){t&1&&ve(0,"router-outlet")},dependencies:[rn],encapsulation:2})}}return r})();function Ba(r){let i=r.children&&r.children.map(Ba),e=i?se(E({},r),{children:i}):E({},r);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==z&&(e.component=dy),e}var za=new Q(""),uy=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Ko)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return L(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=Jt(e.loadComponent()).pipe(Z(nu),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Qn(()=>{this.componentLoaders.delete(e)})),n=new br(t,()=>new Oe).pipe(Bo());return this.componentLoaders.set(e,n),n}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return L({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let o=hy(t,this.compiler,e,this.onLoadEndListener).pipe(Qn(()=>{this.childrenLoaders.delete(t)})),c=new br(o,()=>new Oe).pipe(Bo());return this.childrenLoaders.set(t,c),c}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function hy(r,i,e,t){return Jt(r.loadChildren()).pipe(Z(nu),Xe(n=>n instanceof Ql||Array.isArray(n)?L(n):dt(i.compileModuleAsync(n))),Z(n=>{t&&t(r);let o,c,u=!1;return Array.isArray(n)?(c=n,u=!0):(o=n.create(e).injector,c=o.get(za,[],{optional:!0,self:!0}).flat()),{routes:c.map(Ba),injector:o}}))}function fy(r){return r&&typeof r=="object"&&"default"in r}function nu(r){return fy(r)?r.default:r}var Ha=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:()=>O(my),providedIn:"root"})}}return r})(),my=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),py=new Q("");var gy=new Q(""),_y=(()=>{class r{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Oe,this.transitionAbortSubject=new Oe,this.configLoader=O(uy),this.environmentInjector=O(Xn),this.urlSerializer=O(La),this.rootContexts=O(Rs),this.location=O(cs),this.inputBindingEnabled=O(Ua,{optional:!0})!==null,this.titleStrategy=O(ru),this.options=O($a,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Ha),this.createViewTransition=O(py,{optional:!0}),this.navigationErrorHandler=O(gy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let e=n=>this.events.next(new wa(n)),t=n=>this.events.next(new ba(n));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;this.transitions?.next(se(E(E({},this.transitions.value),e),{id:t}))}setupNavigations(e,t,n){return this.transitions=new Ue({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Hr,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ii(o=>o.id!==0),Z(o=>se(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ut(o=>{let c=!1,u=!1;return L(o).pipe(ut(h=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ge.SupersededByNewNavigation),qt;this.currentTransition=o,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,targetBrowserUrl:typeof h.extras.browserUrl=="string"?this.urlSerializer.parse(h.extras.browserUrl):h.extras.browserUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?se(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=h.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&p!=="reload"){let _="";return this.events.next(new hi(h.id,this.urlSerializer.serialize(h.rawUrl),_,pa.IgnoredSameUrlNavigation)),h.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return L(h).pipe(ut(_=>{let w=this.transitions?.getValue();return this.events.next(new qr(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),w!==this.transitions?.getValue()?qt:Promise.resolve(_)}),ny(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=se(E({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let w=new ys(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:_,extractedUrl:w,source:b,restoredState:S,extras:T}=h,I=new qr(_,this.urlSerializer.serialize(w),b,S);this.events.next(I);let j=Wd(this.rootComponentType).snapshot;return this.currentTransition=o=se(E({},h),{targetSnapshot:j,urlAfterRedirects:w,extras:se(E({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,L(o)}else{let _="";return this.events.next(new hi(h.id,this.urlSerializer.serialize(h.extractedUrl),_,pa.IgnoredByUrlHandlingStrategy)),h.resolve(!1),qt}}),Ie(h=>{let m=new ga(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),Z(h=>(this.currentTransition=o=se(E({},h),{guards:kv(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),o)),Nv(this.environmentInjector,h=>this.events.next(h)),Ie(h=>{if(o.guardsResult=h.guardsResult,h.guardsResult&&typeof h.guardsResult!="boolean")throw ks(this.urlSerializer,h.guardsResult);let m=new _a(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),ii(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Ge.GuardRejected),!1)),la(h=>{if(h.guards.canActivateChecks.length)return L(h).pipe(Ie(m=>{let p=new va(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}),ut(m=>{let p=!1;return L(m).pipe(sy(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(m,"",Ge.NoDataFromResolver)}}))}),Ie(m=>{let p=new ya(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(p)}))}),la(h=>{let m=p=>{let _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ie(w=>{p.component=w}),Z(()=>{})));for(let w of p.children)_.push(...m(w));return _};return Cr(m(h.targetSnapshot.root)).pipe(Ho(null),Gt(1))}),la(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:h,targetSnapshot:m}=o,p=this.createViewTransition?.(this.environmentInjector,h.root,m.root);return p?dt(p).pipe(Z(()=>o)):L(o)}),Z(h=>{let m=yv(e.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=o=se(E({},h),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),Ie(()=>{this.events.next(new Kr)}),Cv(this.rootContexts,e.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Gt(1),Ie({next:h=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zt(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{c=!0}}),Ot(this.transitionAbortSubject.pipe(Ie(h=>{throw h}))),Qn(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Ge.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Li(h=>{if(u=!0,Jd(h))this.events.next(new Lt(o.id,this.urlSerializer.serialize(o.extractedUrl),h.message,h.cancellationCode)),Sv(h)?this.events.next(new Wi(h.url,h.navigationBehaviorOptions)):o.resolve(!1);else{let m=new Gr(o.id,this.urlSerializer.serialize(o.extractedUrl),h,o.targetSnapshot??void 0);try{let p=Ft(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(p instanceof Jr){let{message:_,cancellationCode:w}=ks(this.urlSerializer,p);this.events.next(new Lt(o.id,this.urlSerializer.serialize(o.extractedUrl),_,w)),this.events.next(new Wi(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(m);let _=e.errorHandler(h);o.resolve(!!_)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return qt}))}))}cancelNavigationTransition(e,t,n){let o=new Lt(e.id,this.urlSerializer.serialize(e.extractedUrl),t,n);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function vy(r){return r!==Hr}var yy=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:()=>O(wy),providedIn:"root"})}}return r})(),Pa=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},wy=(()=>{class r extends Pa{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),su=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:()=>O(by),providedIn:"root"})}}return r})(),by=(()=>{class r extends su{constructor(){super(...arguments),this.location=O(cs),this.urlSerializer=O(La),this.options=O($a,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Ha),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wd(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof qr)this.stateMemento=this.createStateMemento();else if(e instanceof hi)this.rawUrlTree=t.initialUrl;else if(e instanceof ys){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??n,t)}}else e instanceof Kr?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):e instanceof Lt&&(e.code===Ge.GuardRejected||e.code===Ge.NoDataFromResolver)?this.restoreHistory(t):e instanceof Gr?this.restoreHistory(t,!0):e instanceof Zt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let n=e instanceof jt?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl){let o=this.browserPageId,c=E(E({},t.extras.state),this.generateNgRouterState(t.id,o));this.location.replaceState(n,"",c)}else{let o=E(E({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(n,"",o)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Br=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Br||{});function Sy(r,i){r.events.pipe(ii(e=>e instanceof Zt||e instanceof Lt||e instanceof Gr||e instanceof hi),Z(e=>e instanceof Zt||e instanceof hi?Br.COMPLETE:(e instanceof Lt?e.code===Ge.Redirect||e.code===Ge.SupersededByNewNavigation:!1)?Br.REDIRECTING:Br.FAILED),ii(e=>e!==Br.REDIRECTING),Gt(1)).subscribe(()=>{i()})}function Cy(r){throw r}var ky={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Va=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(as),this.stateManager=O(su),this.options=O($a,{optional:!0})||{},this.pendingTasks=O(Yl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(_y),this.urlSerializer=O(La),this.location=O(cs),this.urlHandlingStrategy=O(Ha),this._events=new Oe,this.errorHandler=this.options.errorHandler||Cy,this.navigated=!1,this.routeReuseStrategy=O(yy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(za,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Ua,{optional:!0}),this.eventsSubscription=new Uo,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(t,o),t instanceof Lt&&t.code!==Ge.Redirect&&t.code!==Ge.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Zt)this.navigated=!0;else if(t instanceof Wi){let c=t.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(t.url,n.currentRawUrl),h=E({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vy(n.source)},c);this.scheduleNavigation(u,Hr,null,h,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}xy(t)&&this._events.next(t)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,n){let o={replaceUrl:!0},c=n?.navigationId?n:null;if(n){let h=E({},n);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(o.state=h)}let u=this.parseUrl(e);this.scheduleNavigation(u,t,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ba),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:n,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:h}=t,m=h?this.currentUrlTree.fragment:c,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let _;try{let w=n?n.snapshot:this.routerState.snapshot.root;_=zd(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),_=this.currentUrlTree.root}return Hd(_,e,p,m??null)}navigateByUrl(e,t={skipLocationChange:!1}){let n=ui(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,Hr,null,t)}navigate(e,t={skipLocationChange:!1}){return Ry(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let n;if(t===!0?n=E({},ky):t===!1?n=E({},Dy):n=t,ui(e))return Dd(this.currentUrlTree,e,n);let o=this.parseUrl(e);return Dd(this.currentUrlTree,o,n)}removeEmptyProps(e){return Object.entries(e).reduce((t,[n,o])=>(o!=null&&(t[n]=o),t),{})}scheduleNavigation(e,t,n,o,c){if(this.disposed)return Promise.resolve(!1);let u,h,m;c?(u=c.resolve,h=c.reject,m=c.promise):m=new Promise((_,w)=>{u=_,h=w});let p=this.pendingTasks.add();return Sy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(_=>Promise.reject(_))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ry(r){for(let i=0;i<r.length;i++)if(r[i]==null)throw new ue(4008,!1)}function xy(r){return!(r instanceof Kr)&&!(r instanceof Wi)}var ou=(()=>{class r{constructor(e,t,n,o,c,u){this.router=e,this.route=t,this.tabIndexAttribute=n,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new Oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let h=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ui(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,n,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(e!==0||t||n||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:Gl(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let n=this.renderer,o=this.el.nativeElement;t!==null?n.setAttribute(o,e,t):n.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ui(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(t){return new(t||r)(A(Va),A(fi),Er("tabindex"),A(Zl),A(Ce),A(Jo))}}static{this.\u0275dir=W({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,n){t&1&&si("click",function(c){return n.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),t&2&&Ar("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",je],skipLocationChange:[2,"skipLocationChange","skipLocationChange",je],replaceUrl:[2,"replaceUrl","replaceUrl",je],routerLink:"routerLink"},standalone:!0,features:[We,Nt]})}}return r})();var Ey=new Q("");function au(r,...i){return xr([{provide:za,multi:!0,useValue:r},[],{provide:fi,useFactory:Iy,deps:[Va]},{provide:td,multi:!0,useFactory:Ty},i.map(e=>e.\u0275providers)])}function Iy(r){return r.routerState.root}function Ty(){let r=O(Ir);return i=>{let e=r.get(Go);if(i!==e.components[0])return;let t=r.get(Va),n=r.get(My);r.get(Ay)===1&&t.initialNavigation(),r.get(Oy,null,Yo.Optional)?.setUpPreloading(),r.get(Ey,null,Yo.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var My=new Q("",{factory:()=>new Oe}),Ay=new Q("",{providedIn:"root",factory:()=>1});var Oy=new Q("");var Fy=["*"],cu=(()=>{class r{constructor(){this.isSidebarOpen=!0,this.toggleSidebarEvent=new Ye}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen,this.toggleSidebarEvent.emit()}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["app-sidebar"]],outputs:{toggleSidebarEvent:"toggleSidebarEvent"},standalone:!0,features:[ee],ngContentSelectors:Fy,decls:30,vars:6,consts:[[1,"relative"],[1,"fixed","top-0","left-0","z-40","transition-transform","duration-300","ease-in-out"],["aria-label","Sidebar",1,"w-72","h-screen"],["type","button",1,"absolute","top-4","left-4","z-50","inline-flex","items-center","p-2","text-xs","text-gray-500","focus:outline-none","bg-gray-800","transform","translate-x-56","transition-transform","duration-300","ease-in-out",3,"click"],[1,"sr-only"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["clip-rule","evenodd","fill-rule","evenodd","d","M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"],[1,"h-full","px-3","py-4","overflow-y-auto","bg-gray-50","dark:bg-gray-800"],[1,"mb-6","px-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"space-y-2","font-medium"],["routerLink","/inicio",1,"flex","items-center","p-2","text-gray-900","rounded-lg","dark:text-white","hover:bg-gray-100","dark:hover:bg-gray-700","group"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 21",1,"w-5","h-5","text-gray-500","transition","duration-75","dark:text-gray-400","group-hover:text-gray-900","dark:group-hover:text-white"],["d","M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"],["d","M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"],[1,"ms-3"],["routerLink","/historico",1,"flex","items-center","p-2","text-gray-900","rounded-lg","dark:text-white","hover:bg-gray-100","dark:hover:bg-gray-700","group"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 18 18",1,"shrink-0","w-5","h-5","text-gray-500","transition","duration-75","dark:text-gray-400","group-hover:text-gray-900","dark:group-hover:text-white"],["d","M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z"],[1,"flex-1","ms-3","whitespace-nowrap"],[1,"transition-all","duration-300","ease-in-out"]],template:function(t,n){t&1&&(et(),k(0,"div",0)(1,"div",1)(2,"aside",2)(3,"button",3),si("click",function(){return n.toggleSidebar()}),k(4,"span",4),F(5,"Toggle sidebar"),D(),es(),k(6,"svg",5),ve(7,"path",6),D()(),ts(),k(8,"div",7)(9,"div",8)(10,"h1",9),F(11,"Monitor D\xF3lar"),D(),k(12,"p",10),F(13,"Seguimiento en tiempo real"),D()(),k(14,"ul",11)(15,"li")(16,"a",12),es(),k(17,"svg",13),ve(18,"path",14)(19,"path",15),D(),ts(),k(20,"span",16),F(21,"Dashboard"),D()()(),k(22,"li")(23,"a",17),es(),k(24,"svg",18),ve(25,"path",19),D(),ts(),k(26,"span",20),F(27,"Historico"),D()()()()()()(),k(28,"div",21),be(29),D()()),t&2&&(N(),Be("translate-x-0",n.isSidebarOpen)("-translate-x-full",!n.isSidebarOpen),N(2),Or("transform",n.isSidebarOpen?"":"translateX(255px)"))},dependencies:[ci,ou],encapsulation:2})}}return r})();var lu=(()=>{class r{constructor(){this.isSidebarOpen=!0}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["app-main-layout"]],standalone:!0,features:[ee],decls:5,vars:6,consts:[[1,"flex","h-screen","bg-gray-100"],[1,"transition-transform","duration-300","ease-in-out"],[3,"toggleSidebarEvent"],[1,"flex-1","overflow-y-auto","p-3","transition-all","duration-300","ease-in-out"]],template:function(t,n){t&1&&(k(0,"div",0)(1,"div",1)(2,"app-sidebar",2),si("toggleSidebarEvent",function(){return n.toggleSidebar()}),D()(),k(3,"main",3),ve(4,"router-outlet"),D()()),t&2&&(N(),Be("translate-x-0",n.isSidebarOpen)("-translate-x-full",!n.isSidebarOpen),N(2),Be("ml-72",n.isSidebarOpen))},dependencies:[rn,cu],encapsulation:2})}}return r})();var Ny=new Q("cdk-dir-doc",{providedIn:"root",factory:Py});function Py(){return O(ae)}var Ly=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function jy(r){let i=r?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?Ly.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var du=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new Ye,e){let t=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.value=jy(t||n||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(t){return new(t||r)(U(Ny,8))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Ki=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({})}}return r})();function Es(r){return r&&typeof r.connect=="function"&&!(r instanceof br)}var Zi=function(r){return r[r.REPLACED=0]="REPLACED",r[r.INSERTED=1]="INSERTED",r[r.MOVED=2]="MOVED",r[r.REMOVED=3]="REMOVED",r}(Zi||{}),sn=new Q("_ViewRepeater"),Ji=class{applyChanges(i,e,t,n,o){i.forEachOperation((c,u,h)=>{let m,p;if(c.previousIndex==null){let _=t(c,u,h);m=e.createEmbeddedView(_.templateRef,_.context,_.index),p=Zi.INSERTED}else h==null?(e.remove(u),p=Zi.REMOVED):(m=e.get(u),e.move(m,h),p=Zi.MOVED);o&&o({context:m?.context,operation:p,record:c})})}detach(){}};var Ya;try{Ya=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ya=!1}var Ut=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ud(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ya)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(t){return new(t||r)(U(ri))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var on;function $y(){if(on==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>on=!0}))}finally{on=on||!1}return on}function Wa(r){return $y()?r:!!r.capture}function uu(r){return r.composedPath?r.composedPath()[0]:r.target}function hu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function qa(r){return Array.isArray(r)?r:[r]}function Ga(r){return r instanceof Ce?r.nativeElement:r}var By=20,pu=(()=>{class r{constructor(e,t,n){this._platform=e,this._change=new Oe,this._changeListener=o=>{this._change.next(o)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),n=e.documentElement,o=n.getBoundingClientRect(),c=-o.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,u=-o.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0;return{top:c,left:u}}change(e=By){return e>0?this._change.pipe(Ll(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(t){return new(t||r)(U(Ut),U(me),U(ae,8))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var fu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({})}}return r})(),gu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({imports:[Ki,fu,Ki,fu]})}}return r})();var Vy=[[["caption"]],[["colgroup"],["col"]],"*"],Yy=["caption","colgroup, col","*"];function Wy(r,i){r&1&&be(0,2)}function qy(r,i){r&1&&(k(0,"thead",0),ze(1,1),D(),k(2,"tbody",0),ze(3,2)(4,3),D(),k(5,"tfoot",0),ze(6,4),D())}function Gy(r,i){r&1&&ze(0,1)(1,2)(2,3)(3,4)}var ft=new Q("CDK_TABLE");var Ns=(()=>{class r{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||r)(A(vt))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkCellDef",""]],standalone:!0})}}return r})(),Ps=(()=>{class r{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||r)(A(vt))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return r})(),yu=(()=>{class r{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||r)(A(vt))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return r})(),Qi=(()=>{class r{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(t){return new(t||r)(A(ft,8))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,n,o){if(t&1&&(yt(o,Ns,5),yt(o,Ps,5),yt(o,yu,5)),t&2){let c;tt(c=it())&&(n.cell=c.first),tt(c=it())&&(n.headerCell=c.first),tt(c=it())&&(n.footerCell=c.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",je],stickyEnd:[2,"stickyEnd","stickyEnd",je]},standalone:!0,features:[Le([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),We]})}}return r})(),Ms=class{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}},wu=(()=>{class r extends Ms{constructor(e,t){super(e,t)}static{this.\u0275fac=function(t){return new(t||r)(A(Qi),A(Ce))}}static{this.\u0275dir=W({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[we]})}}return r})();var bu=(()=>{class r extends Ms{constructor(e,t){super(e,t);let n=e._table?._getCellRole();n&&t.nativeElement.setAttribute("role",n)}static{this.\u0275fac=function(t){return new(t||r)(A(Qi),A(Ce))}}static{this.\u0275dir=W({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[we]})}}return r})(),As=class{constructor(){this.tasks=[],this.endTasks=[]}},Os=new Q("_COALESCED_STYLE_SCHEDULER"),Za=(()=>{class r{constructor(e){this._currentSchedule=null,this._ngZone=O(me)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new As,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new As;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null})))}static{this.\u0275fac=function(t){return new(t||r)(U(me))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})();var Ja=(()=>{class r{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof an?e.headerCell.template:this instanceof Qa?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(t){return new(t||r)(A(vt),A(ai))}}static{this.\u0275dir=W({type:r,features:[Nt]})}}return r})(),an=(()=>{class r extends Ja{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,n){super(e,t),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||r)(A(vt),A(ai),A(ft,8))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",je]},standalone:!0,features:[We,we,Nt]})}}return r})(),Qa=(()=>{class r extends Ja{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,n){super(e,t),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||r)(A(vt),A(ai),A(ft,8))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",je]},standalone:!0,features:[We,we,Nt]})}}return r})(),Ls=(()=>{class r extends Ja{constructor(e,t,n){super(e,t),this._table=n}static{this.\u0275fac=function(t){return new(t||r)(A(vt),A(ai),A(ft,8))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[we]})}}return r})(),mi=(()=>{class r{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}static{this.\u0275fac=function(t){return new(t||r)(A(Pt))}}static{this.\u0275dir=W({type:r,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return r})(),Xa=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[ee],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&ze(0,0)},dependencies:[mi],encapsulation:2})}}return r})();var ec=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[ee],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&ze(0,0)},dependencies:[mi],encapsulation:2})}}return r})(),Su=(()=>{class r{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(t){return new(t||r)(A(vt))}}static{this.\u0275dir=W({type:r,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return r})(),_u=["top","bottom","left","right"],Ka=class{constructor(i,e,t,n,o=!0,c=!0,u){this._isNativeHtmlTable=i,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=n,this._isBrowser=o,this._needsPositionStickyOnElement=c,this._positionListener=u,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(h=>this._updateCachedSizes(h)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);let t=[];for(let n of i)if(n.nodeType===n.ELEMENT_NODE){t.push(n);for(let o=0;o<n.children.length;o++)t.push(n.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let n of t)this._removeStickyStyle(n,e)})}updateStickyColumns(i,e,t,n=!0,o=!0){if(o&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...e],stickyEndStates:[...t]}),!i.length||!this._isBrowser||!(e.some(c=>c)||t.some(c=>c))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let c=i[0],u=c.children.length,h=this._getCellWidths(c,n),m=this._getStickyStartColumnPositions(h,e),p=this._getStickyEndColumnPositions(h,t),_=e.lastIndexOf(!0),w=t.indexOf(!0),b=this.direction==="rtl",S=b?"right":"left",T=b?"left":"right";for(let I of i)for(let j=0;j<u;j++){let ce=I.children[j];e[j]&&this._addStickyStyle(ce,S,m[j],j===_),t[j]&&this._addStickyStyle(ce,T,p[j],j===w)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:_===-1?[]:h.slice(0,_+1).map((I,j)=>e[j]?I:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:w===-1?[]:h.slice(w).map((I,j)=>t[j+w]?I:null).reverse()}))})}stickRows(i,e,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let n=t==="bottom"?i.slice().reverse():i,o=t==="bottom"?e.slice().reverse():e,c=[],u=[],h=[];for(let p=0,_=0;p<n.length;p++){if(!o[p])continue;c[p]=_;let w=n[p];h[p]=this._isNativeHtmlTable?Array.from(w.children):[w];let b=this._retrieveElementSize(w).height;_+=b,u[p]=b}let m=o.lastIndexOf(!0);for(let p=0;p<n.length;p++){if(!o[p])continue;let _=c[p],w=p===m;for(let b of h[p])this._addStickyStyle(b,t,_,w)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:c,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:c,elements:h})})}updateStickyFooterContainer(i,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=i.querySelector("tfoot");t&&(e.some(n=>!n)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(i,e){for(let n of e)i.style[n]="",i.classList.remove(this._borderCellCss[n]);_u.some(n=>e.indexOf(n)===-1&&i.style[n])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,t,n){i.classList.add(this._stickCellCss),n&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${t}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let e={top:100,bottom:10,left:1,right:1},t=0;for(let n of _u)i.style[n]&&(t+=e[n]);return t?`${t}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],n=i.children;for(let o=0;o<n.length;o++){let c=n[o];t.push(this._retrieveElementSize(c).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(i,e){let t=[],n=0;for(let o=0;o<i.length;o++)e[o]&&(t[o]=n,n+=i[o]);return t}_getStickyEndColumnPositions(i,e){let t=[],n=0;for(let o=i.length;o>0;o--)e[o]&&(t[o]=n,n+=i[o]);return t}_retrieveElementSize(i){let e=this._elemSizeCache.get(i);if(e)return e;let t=i.getBoundingClientRect(),n={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(i,n),this._resizeObserver.observe(i,{box:"border-box"})),n}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){let e=new Set(i);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(n=>!e.has(n));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(i){let e=!1;for(let t of i){let n=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};n.width!==this._elemSizeCache.get(t.target)?.width&&Ky(t.target)&&(e=!0),this._elemSizeCache.set(t.target,n)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function Ky(r){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>r.classList.contains(i))}var Fs=new Q("CDK_SPL");var tc=(()=>{class r{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=O(ft);n._rowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||r)(A(Pt),A(Ce))}}static{this.\u0275dir=W({type:r,selectors:[["","rowOutlet",""]],standalone:!0})}}return r})(),ic=(()=>{class r{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=O(ft);n._headerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||r)(A(Pt),A(Ce))}}static{this.\u0275dir=W({type:r,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return r})(),rc=(()=>{class r{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=O(ft);n._footerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||r)(A(Pt),A(Ce))}}static{this.\u0275dir=W({type:r,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return r})(),nc=(()=>{class r{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=O(ft);n._noDataRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||r)(A(Pt),A(Ce))}}static{this.\u0275dir=W({type:r,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return r})();var sc=(()=>{class r{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,t,n,o,c,u,h,m,p,_,w,b){this._differs=e,this._changeDetectorRef=t,this._elementRef=n,this._dir=c,this._platform=h,this._viewRepeater=m,this._coalescedStyleScheduler=p,this._viewportRuler=_,this._stickyPositioningListener=w,this._onDestroy=new Oe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ye,this.viewChange=new Ue({start:0,end:Number.MAX_VALUE}),this._injector=O(Ir),o||n.nativeElement.setAttribute("role","table"),this._document=u,this._isServer=!h.isBrowser,this._isNativeHtmlTable=n.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(Ot(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Es(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(n,o,c)=>this._getEmbeddedViewArgs(n.item,c),n=>n.item.data,n=>{n.operation===Zi.INSERTED&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(n=>{let o=t.get(n.currentIndex);o.context.$implicit=n.item.data}),this._updateNoDataRow(),ss(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let n=vu(this._headerRowOutlet,"thead");n&&(n.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let n=vu(this._footerRowOutlet,"tfoot");n&&(n.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{let c=[];for(let u=0;u<t.length;u++)this._renderRows[u].rowDef===o&&c.push(t[u]);this._addStickyColumnStyles(c,o)}),n.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let o=this._data[n],c=this._getRenderRowsForData(o,n,t.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<c.length;u++){let h=c[u],m=this._cachedRenderRowsMap.get(h.data);m.has(h.rowDef)?m.get(h.rowDef).push(h):m.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(c=>{let u=n&&n.has(c)?n.get(c):[];if(u.length){let h=u.shift();return h.dataIndex=t,h}else return{data:e,rowDef:c,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ts(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=Ts(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ts(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ts(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(c,u)=>{let h=!!u.getColumnsDiff();return c||h},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),t||n||o}_switchDataSource(e){this._data=[],Es(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Es(this.dataSource)?e=this.dataSource.connect(this):Pi(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=L(this.dataSource)),this._renderChangeSubscription=e.pipe(Ot(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let n=Array.from(t.columns||[]).map(u=>{let h=this._columnDefsByName.get(u);return h}),o=n.map(u=>u.sticky),c=n.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let n=0;n<e.viewContainer.length;n++){let o=e.viewContainer.get(n);t.push(o.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(o=>!o.when||o.when(t,e));else{let o=this._rowDefs.find(c=>c.when&&c.when(t,e))||this._defaultRowDef;o&&n.push(o)}return n.length,n}_getEmbeddedViewArgs(e,t){let n=e.rowDef,o={$implicit:e.data};return{templateRef:n.template,context:o,index:t}}_renderRow(e,t,n,o={}){let c=e.viewContainer.createEmbeddedView(t.template,o,n);return this._renderCellTemplateForItem(t,o),c}_renderCellTemplateForItem(e,t){for(let n of this._getCellTemplates(e))mi.mostRecentCellOutlet&&mi.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){let c=e.get(t).context;c.count=n,c.first=t===0,c.last=t===n-1,c.even=t%2===0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[t].dataIndex,c.renderIndex=t):c.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let n=this._columnDefsByName.get(t);return e.extractCellTemplate(n)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,n)=>t||n.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new Ka(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:L()).pipe(Ot(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let n=this._noDataRowOutlet.viewContainer;if(t){let o=n.createEmbeddedView(e.templateRef),c=o.rootNodes[0];o.rootNodes.length===1&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else n.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||r)(A(ai),A(oi),A(Ce),Er("role"),A(du,8),A(ae),A(Ut),A(sn),A(Os),A(pu),A(Fs,12),A(me,8))}}static{this.\u0275cmp=X({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,n,o){if(t&1&&(yt(o,Su,5),yt(o,Qi,5),yt(o,Ls,5),yt(o,an,5),yt(o,Qa,5)),t&2){let c;tt(c=it())&&(n._noDataRow=c.first),tt(c=it())&&(n._contentColumnDefs=c),tt(c=it())&&(n._contentRowDefs=c),tt(c=it())&&(n._contentHeaderRowDefs=c),tt(c=it())&&(n._contentFooterRowDefs=c)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,n){t&2&&Be("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",je],fixedLayout:[2,"fixedLayout","fixedLayout",je]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Le([{provide:ft,useExisting:r},{provide:sn,useClass:Ji},{provide:Os,useClass:Za},{provide:Fs,useValue:null}]),We,ee],ngContentSelectors:Yy,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,n){t&1&&(et(Vy),be(0),be(1,1),oe(2,Wy,1,0)(3,qy,7,0)(4,Gy,4,0)),t&2&&(N(2),ni(n._isServer?2:-1),N(),ni(n._isNativeHtmlTable?3:4))},dependencies:[ic,tc,nc,rc],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return r})();function Ts(r,i){return r.concat(Array.from(i))}function vu(r,i){let e=i.toUpperCase(),t=r.viewContainer.element.nativeElement;for(;t;){let n=t.nodeType===1?t.nodeName:null;if(n===e)return t;if(n==="TABLE")break;t=t.parentNode}return null}var Cu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({imports:[gu]})}}return r})();var ku=new Set,pi,Zy=(()=>{class r{constructor(e,t){this._platform=e,this._nonce=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qy}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Jy(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(t){return new(t||r)(U(Ut),U(Tr,8))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Jy(r,i){if(!ku.has(r))try{pi||(pi=document.createElement("style"),i&&pi.setAttribute("nonce",i),pi.setAttribute("type","text/css"),document.head.appendChild(pi)),pi.sheet&&(pi.sheet.insertRule(`@media ${r} {body{ }}`,0),ku.add(r))}catch(e){console.error(e)}}function Qy(r){return{matches:r==="all"||r==="",media:r,addListener:()=>{},removeListener:()=>{}}}var Ru=(()=>{class r{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new Oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Du(qa(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){let n=Du(qa(e)).map(c=>this._registerQuery(c).observable),o=Cr(n);return o=Jn(o.pipe(Gt(1)),o.pipe(zl(1),jl(0))),o.pipe(Z(c=>{let u={matches:!1,breakpoints:{}};return c.forEach(({matches:h,query:m})=>{u.matches=u.matches||h,u.breakpoints[m]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let t=this._mediaMatcher.matchMedia(e),o={observable:new $o(c=>{let u=h=>this._zone.run(()=>c.next(h));return t.addListener(u),()=>{t.removeListener(u)}}).pipe(Dr(t),Z(({matches:c})=>({query:e,matches:c})),Ot(this._destroySubject)),mql:t};return this._queries.set(e,o),o}static{this.\u0275fac=function(t){return new(t||r)(U(Zy),U(me))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Du(r){return r.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}function Iu(r){return r.buttons===0||r.detail===0}function Tu(r){let i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var gi=function(r){return r[r.NONE=0]="NONE",r[r.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",r[r.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",r}(gi||{}),xu="cdk-high-contrast-black-on-white",Eu="cdk-high-contrast-white-on-black",oc="cdk-high-contrast-active",Mu=(()=>{class r{constructor(e,t){this._platform=e,this._document=t,this._breakpointSubscription=O(Ru).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return gi.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return gi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return gi.BLACK_ON_WHITE}return gi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(oc,xu,Eu),this._hasCheckedHighContrastMode=!0;let t=this.getHighContrastMode();t===gi.BLACK_ON_WHITE?e.add(oc,xu):t===gi.WHITE_ON_BLACK&&e.add(oc,Eu)}}static{this.\u0275fac=function(t){return new(t||r)(U(Ut),U(ae))}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function e0(){return!0}var t0=new Q("mat-sanity-checks",{providedIn:"root",factory:e0}),$t=(()=>{class r{constructor(e,t,n){this._sanityChecks=t,this._document=n,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return hu()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(t){return new(t||r)(U(Mu),U(t0,8),U(ae))}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({imports:[Ki,Ki]})}}return r})();var nt=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(nt||{}),ac=class{constructor(i,e,t,n=!1){this._renderer=i,this.element=e,this.config=t,this._animationForciblyDisabledThroughCss=n,this.state=nt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Au=Wa({passive:!0,capture:!0}),cc=class{constructor(){this._events=new Map,this._delegateEventHandler=i=>{let e=uu(i);e&&this._events.get(i.type)?.forEach((t,n)=>{(n===e||n.contains(e))&&t.forEach(o=>o.handleEvent(i))})}}addHandler(i,e,t,n){let o=this._events.get(e);if(o){let c=o.get(t);c?c.add(n):o.set(t,new Set([n]))}else this._events.set(e,new Map([[t,new Set([n])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Au)})}removeHandler(i,e,t){let n=this._events.get(i);if(!n)return;let o=n.get(e);o&&(o.delete(t),o.size===0&&n.delete(e),n.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,Au)))}},Ou={enterDuration:225,exitDuration:150},i0=800,Fu=Wa({passive:!0,capture:!0}),Nu=["mousedown","touchstart"],Pu=["mouseup","mouseleave","touchend","touchcancel"],Lu=class r{static{this._eventManager=new cc}constructor(i,e,t,n){this._target=i,this._ngZone=e,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Ga(t))}fadeInRipple(i,e,t={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=E(E({},Ou),t.animation);t.centered&&(i=n.left+n.width/2,e=n.top+n.height/2);let c=t.radius||r0(i,e,n),u=i-n.left,h=e-n.top,m=o.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=`${u-c}px`,p.style.top=`${h-c}px`,p.style.height=`${c*2}px`,p.style.width=`${c*2}px`,t.color!=null&&(p.style.backgroundColor=t.color),p.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(p);let _=window.getComputedStyle(p),w=_.transitionProperty,b=_.transitionDuration,S=w==="none"||b==="0s"||b==="0s, 0s"||n.width===0&&n.height===0,T=new ac(this,p,t,S);p.style.transform="scale3d(1, 1, 1)",T.state=nt.FADING_IN,t.persistent||(this._mostRecentTransientRipple=T);let I=null;return!S&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let j=()=>{I&&(I.fallbackTimer=null),clearTimeout(le),this._finishRippleTransition(T)},ce=()=>this._destroyRipple(T),le=setTimeout(ce,m+100);p.addEventListener("transitionend",j),p.addEventListener("transitioncancel",ce),I={onTransitionEnd:j,onTransitionCancel:ce,fallbackTimer:le}}),this._activeRipples.set(T,I),(S||!m)&&this._finishRippleTransition(T),T}fadeOutRipple(i){if(i.state===nt.FADING_OUT||i.state===nt.HIDDEN)return;let e=i.element,t=E(E({},Ou),i.config.animation);e.style.transitionDuration=`${t.exitDuration}ms`,e.style.opacity="0",i.state=nt.FADING_OUT,(i._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=Ga(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Nu.forEach(t=>{r._eventManager.addHandler(this._ngZone,t,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pu.forEach(e=>{this._triggerElement.addEventListener(e,this,Fu)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===nt.FADING_IN?this._startFadeOutTransition(i):i.state===nt.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:t}=i.config;i.state=nt.VISIBLE,!t&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=nt.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=Iu(i),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+i0;!this._target.rippleDisabled&&!e&&!t&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Tu(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===nt.VISIBLE||i.config.terminateOnPointerUp&&i.state===nt.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(Nu.forEach(e=>r._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(Pu.forEach(e=>i.removeEventListener(e,this,Fu)),this._pointerUpEventsRegistered=!1))}};function r0(r,i,e){let t=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),n=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(t*t+n*n)}var n0=[[["caption"]],[["colgroup"],["col"]],"*"],s0=["caption","colgroup, col","*"];function o0(r,i){r&1&&be(0,2)}function a0(r,i){r&1&&(k(0,"thead",0),ze(1,1),D(),k(2,"tbody",2),ze(3,3)(4,4),D(),k(5,"tfoot",0),ze(6,5),D())}function c0(r,i){r&1&&ze(0,1)(1,3)(2,4)(3,5)}var ju=(()=>{class r extends sc{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275cmp=X({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,n){t&2&&Be("mdc-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Le([{provide:sc,useExisting:r},{provide:ft,useExisting:r},{provide:Os,useClass:Za},{provide:sn,useClass:Ji},{provide:Fs,useValue:null}]),we,ee],ngContentSelectors:s0,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,n){t&1&&(et(n0),be(0),be(1,1),oe(2,o0,1,0)(3,a0,7,0)(4,c0,4,0)),t&2&&(N(2),ni(n._isServer?2:-1),N(),ni(n._isNativeHtmlTable?3:4))},dependencies:[ic,tc,nc,rc],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return r})(),Uu=(()=>{class r extends Ns{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["","matCellDef",""]],standalone:!0,features:[Le([{provide:Ns,useExisting:r}]),we]})}}return r})(),$u=(()=>{class r extends Ps{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Le([{provide:Ps,useExisting:r}]),we]})}}return r})();var Bu=(()=>{class r extends Qi{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Le([{provide:Qi,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),we]})}}return r})(),zu=(()=>{class r extends wu{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[we]})}}return r})();var Hu=(()=>{class r extends bu{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[we]})}}return r})();var Vu=(()=>{class r extends an{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",je]},standalone:!0,features:[Le([{provide:an,useExisting:r}]),We,we]})}}return r})();var Yu=(()=>{class r extends Ls{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275dir=W({type:r,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Le([{provide:Ls,useExisting:r}]),we]})}}return r})(),Wu=(()=>{class r extends Xa{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275cmp=X({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Le([{provide:Xa,useExisting:r}]),we,ee],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&ze(0,0)},dependencies:[mi],encapsulation:2})}}return r})();var qu=(()=>{class r extends ec{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=$e(r)))(n||r)}})()}static{this.\u0275cmp=X({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Le([{provide:ec,useExisting:r}]),we,ee],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&ze(0,0)},dependencies:[mi],encapsulation:2})}}return r})();var Gu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({imports:[$t,Cu,$t]})}}return r})();var d0=["*"];var u0=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],h0=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],f0=new Q("MAT_CARD_CONFIG"),Ku=(()=>{class r{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(t){return new(t||r)(A(f0,8))}}static{this.\u0275cmp=X({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,n){t&2&&Be("mat-mdc-card-outlined",n.appearance==="outlined")("mdc-card--outlined",n.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ee],ngContentSelectors:d0,decls:1,vars:0,template:function(t,n){t&1&&(et(),be(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return r})(),Zu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=W({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return r})();var Ju=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275dir=W({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return r})();var Qu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ee],ngContentSelectors:h0,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,n){t&1&&(et(u0),be(0),k(1,"div",0),be(2,1),D(),be(3,2))},encapsulation:2,changeDetection:0})}}return r})();var Xu=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({imports:[$t,ci,$t]})}}return r})();var eh=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=he({imports:[$t,$t]})}}return r})();var ur=jo(dc()),Dx=jo(ih());var rh=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...e)=>import("./chunk-N2HYM3BR.js").then(({default:t})=>t(...e)):i=fetch,(...e)=>i(...e)};var cn=class extends Error{constructor(i,e="FunctionsError",t){super(i),this.name=e,this.context=t}},js=class extends cn{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}},Us=class extends cn{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}},$s=class extends cn{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}},hc=function(r){return r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2",r}(hc||{});var p0=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},ln=class{constructor(i,{headers:e={},customFetch:t,region:n=hc.Any}={}){this.url=i,this.headers=e,this.region=n,this.fetch=rh(t)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,e={}){var t;return p0(this,void 0,void 0,function*(){try{let{headers:n,method:o,body:c}=e,u={},{region:h}=e;h||(h=this.region),h&&h!=="any"&&(u["x-region"]=h);let m;c&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(u["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(u["Content-Type"]="application/json",m=JSON.stringify(c)));let p=yield this.fetch(`${this.url}/${i}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),n),body:m}).catch(S=>{throw new js(S)}),_=p.headers.get("x-relay-error");if(_&&_==="true")throw new Us(p);if(!p.ok)throw new $s(p);let w=((t=p.headers.get("Content-Type"))!==null&&t!==void 0?t:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield p.json():w==="application/octet-stream"?b=yield p.blob():w==="text/event-stream"?b=p:w==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null}}catch(n){return{data:null,error:n}}})}};var gh=jo(ph(),1),{PostgrestClient:_h,PostgrestQueryBuilder:Gk,PostgrestFilterBuilder:Kk,PostgrestTransformBuilder:Zk,PostgrestBuilder:Jk,PostgrestError:x0}=gh.default;var vh="2.11.2";var yh={"X-Client-Info":`realtime-js/${vh}`},wh="1.0.0",Vs=1e4,bh=1e3,tr=function(r){return r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed",r}(tr||{}),Ke=function(r){return r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving",r}(Ke||{}),st=function(r){return r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token",r}(st||{}),kc=function(r){return r.websocket="websocket",r}(kc||{}),_i=function(r){return r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed",r}(_i||{});var Ys=class{constructor(){this.HEADER_LENGTH=1}decode(i,e){return i.constructor===ArrayBuffer?e(this._binaryDecode(i)):e(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){let e=new DataView(i),t=new TextDecoder;return this._decodeBroadcast(i,e,t)}_decodeBroadcast(i,e,t){let n=e.getUint8(1),o=e.getUint8(2),c=this.HEADER_LENGTH+2,u=t.decode(i.slice(c,c+n));c=c+n;let h=t.decode(i.slice(c,c+o));c=c+o;let m=JSON.parse(t.decode(i.slice(c,i.byteLength)));return{ref:null,topic:u,event:h,payload:m}}};var ir=class{constructor(i,e){this.callback=i,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var re=function(r){return r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange",r}(re||{}),Rc=(r,i,e={})=>{var t;let n=(t=e.skipTypes)!==null&&t!==void 0?t:[];return Object.keys(i).reduce((o,c)=>(o[c]=E0(c,r,i,n),o),{})},E0=(r,i,e,t)=>{let n=i.find(u=>u.name===r),o=n?.type,c=e[r];return o&&!t.includes(o)?Sh(o,c):Dc(c)},Sh=(r,i)=>{if(r.charAt(0)==="_"){let e=r.slice(1,r.length);return A0(i,e)}switch(r){case re.bool:return I0(i);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return T0(i);case re.json:case re.jsonb:return M0(i);case re.timestamp:return O0(i);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Dc(i);default:return Dc(i)}},Dc=r=>r,I0=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},T0=r=>{if(typeof r=="string"){let i=parseFloat(r);if(!Number.isNaN(i))return i}return r},M0=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},A0=(r,i)=>{if(typeof r!="string")return r;let e=r.length-1,t=r[e];if(r[0]==="{"&&t==="}"){let o,c=r.slice(1,e);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>Sh(i,u))}return r},O0=r=>typeof r=="string"?r.replace(" ","T"):r,Ws=r=>{let i=r;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};var rr=class{constructor(i,e,t={},n=Vs){this.channel=i,this.event=e,this.payload=t,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,e){var t;return this._hasReceived(i)&&e((t=this.receivedResp)===null||t===void 0?void 0:t.response),this.recHooks.push({status:i,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let i=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:e}){this.recHooks.filter(t=>t.status===i).forEach(t=>t.callback(e))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}};var gn=class r{constructor(i,e){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let t=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},n=>{let{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=r.syncState(this.state,n,o,c),this.pendingDiffs.forEach(h=>{this.state=r.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(t.diff,{},n=>{let{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=r.syncDiff(this.state,n,o,c),u())}),this.onJoin((n,o,c)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:o,newPresences:c})}),this.onLeave((n,o,c)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,e,t,n){let o=this.cloneDeep(i),c=this.transformState(e),u={},h={};return this.map(o,(m,p)=>{c[m]||(h[m]=p)}),this.map(c,(m,p)=>{let _=o[m];if(_){let w=p.map(I=>I.presence_ref),b=_.map(I=>I.presence_ref),S=p.filter(I=>b.indexOf(I.presence_ref)<0),T=_.filter(I=>w.indexOf(I.presence_ref)<0);S.length>0&&(u[m]=S),T.length>0&&(h[m]=T)}else u[m]=p}),this.syncDiff(o,{joins:u,leaves:h},t,n)}static syncDiff(i,e,t,n){let{joins:o,leaves:c}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return t||(t=()=>{}),n||(n=()=>{}),this.map(o,(u,h)=>{var m;let p=(m=i[u])!==null&&m!==void 0?m:[];if(i[u]=this.cloneDeep(h),p.length>0){let _=i[u].map(b=>b.presence_ref),w=p.filter(b=>_.indexOf(b.presence_ref)<0);i[u].unshift(...w)}t(u,p,h)}),this.map(c,(u,h)=>{let m=i[u];if(!m)return;let p=h.map(_=>_.presence_ref);m=m.filter(_=>p.indexOf(_.presence_ref)<0),i[u]=m,n(u,m,h),m.length===0&&delete i[u]}),i}static map(i,e){return Object.getOwnPropertyNames(i).map(t=>e(t,i[t]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((e,t)=>{let n=i[t];return"metas"in n?e[t]=n.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[t]=n,e},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Bt=function(r){return r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR",r}(Bt||{});var _n=class r{constructor(i,e={config:{}},t){this.topic=i,this.params=e,this.socket=t,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new rr(this,st.join,this.params,this.timeout),this.rejoinTimer=new ir(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(n,o)=>{this._trigger(this._replyEventName(o),n)}),this.presence=new gn(this),this.broadcastEndpointURL=Ws(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,e=this.timeout){var t,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:c,private:u}}=this.params;this._onError(p=>i?.(Bt.CHANNEL_ERROR,p)),this._onClose(()=>i?.(Bt.CLOSED));let h={},m={broadcast:o,presence:c,postgres_changes:(n=(t=this.bindings.postgres_changes)===null||t===void 0?void 0:t.map(p=>p.filter))!==null&&n!==void 0?n:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",_=>v(this,[_],function*({postgres_changes:p}){var w;if(this.socket.setAuth(),p===void 0){i?.(Bt.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,S=(w=b?.length)!==null&&w!==void 0?w:0,T=[];for(let I=0;I<S;I++){let j=b[I],{filter:{event:ce,schema:le,table:Te,filter:Me}}=j,ye=p&&p[I];if(ye&&ye.event===ce&&ye.schema===le&&ye.table===Te&&ye.filter===Me)T.push(Object.assign(Object.assign({},j),{id:ye.id}));else{this.unsubscribe(),i?.(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,i&&i(Bt.SUBSCRIBED);return}})).receive("error",p=>{i?.(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{i?.(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(t){return v(this,arguments,function*(i,e={}){return yield this.send({type:"presence",event:"track",payload:i},e.timeout||this.timeout)})}untrack(){return v(this,arguments,function*(i={}){return yield this.send({type:"presence",event:"untrack"},i)})}on(i,e,t){return this._on(i,e,t)}send(t){return v(this,arguments,function*(i,e={}){var n,o;if(!this._canPush()&&i.type==="broadcast"){let{event:c,payload:u}=i,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{let p=yield this._fetchWithTimeout(this.broadcastEndpointURL,m,(n=e.timeout)!==null&&n!==void 0?n:this.timeout);return yield(o=p.body)===null||o===void 0?void 0:o.cancel(),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,m;let p=this._push(i.type,i,e.timeout||this.timeout);i.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Ke.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(t=>{let n=new rr(this,st.leave,{},i);n.receive("ok",()=>{e(),t("ok")}).receive("timeout",()=>{e(),t("timed out")}).receive("error",()=>{t("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_fetchWithTimeout(i,e,t){return v(this,null,function*(){let n=new AbortController,o=setTimeout(()=>n.abort(),t),c=yield this.socket.fetch(i,Object.assign(Object.assign({},e),{signal:n.signal}));return clearTimeout(o),c})}_push(i,e,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new rr(this,i,e,t);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(i,e,t){return e}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,e,t){var n,o;let c=i.toLocaleLowerCase(),{close:u,error:h,leave:m,join:p}=st;if(t&&[u,h,m,p].indexOf(c)>=0&&t!==this._joinRef())return;let w=this._onMessage(c,e,t);if(e&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(b=>{var S,T,I;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((I=(T=b.filter)===null||T===void 0?void 0:T.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===c}).map(b=>b.callback(w,t)):(o=this.bindings[c])===null||o===void 0||o.filter(b=>{var S,T,I,j,ce,le;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){let Te=b.id,Me=(S=b.filter)===null||S===void 0?void 0:S.event;return Te&&((T=e.ids)===null||T===void 0?void 0:T.includes(Te))&&(Me==="*"||Me?.toLocaleLowerCase()===((I=e.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{let Te=(ce=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase();return Te==="*"||Te===((le=e?.event)===null||le===void 0?void 0:le.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){let S=w.data,{schema:T,table:I,commit_timestamp:j,type:ce,errors:le}=S;w=Object.assign(Object.assign({},{schema:T,table:I,commit_timestamp:j,eventType:ce,new:{},old:{},errors:le}),this._getPayloadRecords(S))}b.callback(w,t)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,e,t){let n=i.toLocaleLowerCase(),o={type:n,filter:e,callback:t};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(i,e){let t=i.toLocaleLowerCase();return this.bindings[t]=this.bindings[t].filter(n=>{var o;return!(((o=n.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===t&&r.isEqual(n.filter,e))}),this}static isEqual(i,e){if(Object.keys(i).length!==Object.keys(e).length)return!1;for(let t in i)if(i[t]!==e[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(st.close,{},i)}_onError(i){this._on(st.error,{},e=>i(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(i))}_getPayloadRecords(i){let e={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(e.new=Rc(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(e.old=Rc(i.columns,i.old_record)),e}};var N0=()=>{},P0=typeof WebSocket<"u",L0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,vn=class{constructor(i,e){var t;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yh,this.params={},this.timeout=Vs,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=N0,this.conn=null,this.sendBuffer=[],this.serializer=new Ys,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...u)=>import("./chunk-N2HYM3BR.js").then(({default:h})=>h(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${i}/${kc.websocket}`,this.httpEndpoint=Ws(i),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let n=(t=e?.params)===null||t===void 0?void 0:t.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,c)=>c(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ir(()=>v(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(P0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-R5HC3FKR.js").then(({default:i})=>{this.conn=new i(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wh}))}disconnect(i,e){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(i){return v(this,null,function*(){let e=yield i.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return v(this,null,function*(){let i=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),i})}log(i,e,t){this.logger(i,e,t)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return _i.Connecting;case tr.open:return _i.Open;case tr.closing:return _i.Closing;default:return _i.Closed}}isConnected(){return this.connectionState()===_i.Open}channel(i,e={config:{}}){let t=new _n(`realtime:${i}`,e,this);return this.channels.push(t),t}push(i){let{topic:e,event:t,payload:n,ref:o}=i,c=()=>{this.encode(i,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${e} ${t} (${o})`,n),this.isConnected()?c():this.sendBuffer.push(c)}setAuth(i=null){return v(this,null,function*(){let e=i||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let t=null;try{t=JSON.parse(atob(e.split(".")[1]))}catch{}if(t&&t.exp&&!(Math.floor(Date.now()/1e3)-t.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${t.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${t.exp}`);this.accessTokenValue=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:e})})}})}sendHeartbeat(){return v(this,null,function*(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(bh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let e=this.channels.find(t=>t.topic===i&&(t._isJoined()||t._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${i}"`),e.unsubscribe())}_remove(i){this.channels=this.channels.filter(e=>e._joinRef()!==i._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,e=>{let{topic:t,event:n,payload:o,ref:c}=e;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${t} ${n} ${c&&"("+c+")"||""}`,o),this.channels.filter(u=>u._isMember(t)).forEach(u=>u._trigger(n,o,c)),this.stateChangeCallbacks.message.forEach(u=>u(e))})}_onConnOpen(){return v(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(i=>i())})}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(st.error))}_appendParams(i,e){if(Object.keys(e).length===0)return i;let t=i.match(/\?/)?"&":"?",n=new URLSearchParams(e);return`${i}${t}${n}`}_workerObjectUrl(i){let e;if(i)e=i;else{let t=new Blob([L0],{type:"application/javascript"});e=URL.createObjectURL(t)}return e}};var xc=class{constructor(i,e,t){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=tr.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=t.close}};var nr=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function ge(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var qs=class extends nr{constructor(i,e){super(i),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},vi=class extends nr{constructor(i,e){super(i),this.name="StorageUnknownError",this.originalError=e}};var j0=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},Ks=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...e)=>import("./chunk-N2HYM3BR.js").then(({default:t})=>t(...e)):i=fetch,(...e)=>i(...e)},Ch=()=>j0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-N2HYM3BR.js")).Response:Response}),Gs=r=>{if(Array.isArray(r))return r.map(e=>Gs(e));if(typeof r=="function"||r!==Object(r))return r;let i={};return Object.entries(r).forEach(([e,t])=>{let n=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));i[n]=Gs(t)}),i};var yi=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},Ec=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),U0=(r,i,e)=>yi(void 0,void 0,void 0,function*(){let t=yield Ch();r instanceof t&&!e?.noResolveJson?r.json().then(n=>{i(new qs(Ec(n),r.status||500))}).catch(n=>{i(new vi(Ec(n),n))}):i(new vi(Ec(r),r))}),$0=(r,i,e,t)=>{let n={method:r,headers:i?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},i?.headers),t&&(n.body=JSON.stringify(t)),Object.assign(Object.assign({},n),e))};function yn(r,i,e,t,n,o){return yi(this,void 0,void 0,function*(){return new Promise((c,u)=>{r(e,$0(i,t,n,o)).then(h=>{if(!h.ok)throw h;return t?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>U0(h,u,t))})})}function sr(r,i,e,t){return yi(this,void 0,void 0,function*(){return yn(r,"GET",i,e,t)})}function bt(r,i,e,t,n){return yi(this,void 0,void 0,function*(){return yn(r,"POST",i,t,n,e)})}function kh(r,i,e,t,n){return yi(this,void 0,void 0,function*(){return yn(r,"PUT",i,t,n,e)})}function Dh(r,i,e,t){return yi(this,void 0,void 0,function*(){return yn(r,"HEAD",i,Object.assign(Object.assign({},e),{noResolveJson:!0}),t)})}function Zs(r,i,e,t,n){return yi(this,void 0,void 0,function*(){return yn(r,"DELETE",i,t,n,e)})}var He=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},B0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Js=class{constructor(i,e={},t,n){this.url=i,this.headers=e,this.bucketId=t,this.fetch=Ks(n)}uploadOrUpdate(i,e,t,n){return He(this,void 0,void 0,function*(){try{let o,c=Object.assign(Object.assign({},Rh),n),u=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(c.upsert)}),h=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=t,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),n?.headers&&(u=Object.assign(Object.assign({},u),n.headers));let m=this._removeEmptyFolders(e),p=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:i,body:o,headers:u},c?.duplex?{duplex:c.duplex}:{})),w=yield _.json();return _.ok?{data:{path:m,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}upload(i,e,t){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,e,t)})}uploadToSignedUrl(i,e,t,n){return He(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(i),c=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",e);try{let h,m=Object.assign({upsert:Rh.upsert},n),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",m.cacheControl)):(h=t,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);let _=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:p}),w=yield _.json();return _.ok?{data:{path:o,fullPath:w.Key},error:null}:{data:null,error:w}}catch(h){if(ge(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(i,e){return He(this,void 0,void 0,function*(){try{let t=this._getFinalPath(i),n=Object.assign({},this.headers);e?.upsert&&(n["x-upsert"]="true");let o=yield bt(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:n}),c=new URL(this.url+o.url),u=c.searchParams.get("token");if(!u)throw new nr("No token returned by API");return{data:{signedUrl:c.toString(),path:i,token:u},error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}update(i,e,t){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,e,t)})}move(i,e,t){return He(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}copy(i,e,t){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(i,e,t){return He(this,void 0,void 0,function*(){try{let n=this._getFinalPath(i),o=yield bt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:this.headers}),c=t?.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(i,e,t){return He(this,void 0,void 0,function*(){try{let n=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:i},{headers:this.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:n.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}download(i,e){return He(this,void 0,void 0,function*(){let n=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),c=o?`?${o}`:"";try{let u=this._getFinalPath(i);return{data:yield(yield sr(this.fetch,`${this.url}/${n}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(ge(u))return{data:null,error:u};throw u}})}info(i){return He(this,void 0,void 0,function*(){let e=this._getFinalPath(i);try{let t=yield sr(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Gs(t),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}exists(i){return He(this,void 0,void 0,function*(){let e=this._getFinalPath(i);try{return yield Dh(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(ge(t)&&t instanceof vi){let n=t.originalError;if([400,404].includes(n?.status))return{data:!1,error:t}}throw t}})}getPublicUrl(i,e){let t=this._getFinalPath(i),n=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&n.push(o);let u=typeof e?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(e?.transform||{});h!==""&&n.push(h);let m=n.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${t}${m}`)}}}remove(i){return He(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}list(i,e,t){return He(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},B0),e),{prefix:i||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){let e=[];return i.width&&e.push(`width=${i.width}`),i.height&&e.push(`height=${i.height}`),i.resize&&e.push(`resize=${i.resize}`),i.format&&e.push(`format=${i.format}`),i.quality&&e.push(`quality=${i.quality}`),e.join("&")}};var xh="2.7.1";var Eh={"X-Client-Info":`storage-js/${xh}`};var or=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},Qs=class{constructor(i,e={},t){this.url=i,this.headers=Object.assign(Object.assign({},Eh),e),this.fetch=Ks(t)}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}getBucket(i){return or(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}createBucket(i,e={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}updateBucket(i,e){return or(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}emptyBucket(i){return or(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}deleteBucket(i){return or(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}};var wn=class extends Qs{constructor(i,e={},t){super(i,e,t)}from(i){return new Js(this.url,this.headers,i,this.fetch)}};var Ih="2.49.4";var bn="";typeof Deno<"u"?bn="deno":typeof document<"u"?bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bn="react-native":bn="node";var z0={"X-Client-Info":`supabase-js-${bn}/${Ih}`},Th={headers:z0},Mh={schema:"public"},Ah={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oh={};pd();var H0=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},V0=r=>{let i;return r?i=r:typeof fetch>"u"?i=fd:i=fetch,(...e)=>i(...e)},Y0=()=>typeof Headers>"u"?md:Headers,Fh=(r,i,e)=>{let t=V0(e),n=Y0();return(o,c)=>H0(void 0,void 0,void 0,function*(){var u;let h=(u=yield i())!==null&&u!==void 0?u:r,m=new n(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),t(o,Object.assign(Object.assign({},c),{headers:m}))})};var W0=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})};function Nh(r){return r.replace(/\/$/,"")}function Ph(r,i){let{db:e,auth:t,realtime:n,global:o}=r,{db:c,auth:u,realtime:h,global:m}=i,p={db:Object.assign(Object.assign({},c),e),auth:Object.assign(Object.assign({},u),t),realtime:Object.assign(Object.assign({},h),n),global:Object.assign(Object.assign({},m),o),accessToken:()=>W0(this,void 0,void 0,function*(){return""})};return r.accessToken?p.accessToken=r.accessToken:delete p.accessToken,p}var Xs="2.69.1";var wi=30*1e3,eo=3,to=eo*wi,Lh="http://localhost:9999",jh="supabase.auth.token";var Uh={"X-Client-Info":`gotrue-js/${Xs}`};var Sn="X-Supabase-Api-Version",Ic={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$h=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bh=6e5;var Cn=class extends Error{constructor(i,e,t){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=t}};function $(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}var io=class extends Cn{constructor(i,e,t){super(i,e,t),this.name="AuthApiError",this.status=e,this.code=t}};function zh(r){return $(r)&&r.name==="AuthApiError"}var ar=class extends Cn{constructor(i,e){super(i),this.name="AuthUnknownError",this.originalError=e}},St=class extends Cn{constructor(i,e,t,n){super(i,t,n),this.name=e,this.status=t}},ot=class extends St{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Hh(r){return $(r)&&r.name==="AuthSessionMissingError"}var cr=class extends St{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},bi=class extends St{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}},Si=class extends St{constructor(i,e=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Vh(r){return $(r)&&r.name==="AuthImplicitGrantRedirectError"}var kn=class extends St{constructor(i,e=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lr=class extends St{constructor(i,e){super(i,"AuthRetryableFetchError",e,void 0)}};function ro(r){return $(r)&&r.name==="AuthRetryableFetchError"}var Dn=class extends St{constructor(i,e,t){super(i,"AuthWeakPasswordError",e,"weak_password"),this.reasons=t}};var zt=class extends St{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}};var Yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wh=` 	
\r=`.split(""),q0=(()=>{let r=new Array(128);for(let i=0;i<r.length;i+=1)r[i]=-1;for(let i=0;i<Wh.length;i+=1)r[Wh[i].charCodeAt(0)]=-2;for(let i=0;i<Yh.length;i+=1)r[Yh[i].charCodeAt(0)]=i;return r})();function qh(r,i,e){let t=q0[r];if(t>-1)for(i.queue=i.queue<<6|t,i.queuedBits+=6;i.queuedBits>=8;)e(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(t===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Tc(r){let i=[],e=c=>{i.push(String.fromCodePoint(c))},t={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},o=c=>{Z0(c,t,e)};for(let c=0;c<r.length;c+=1)qh(r.charCodeAt(c),n,o);return i.join("")}function G0(r,i){if(r<=127){i(r);return}else if(r<=2047){i(192|r>>6),i(128|r&63);return}else if(r<=65535){i(224|r>>12),i(128|r>>6&63),i(128|r&63);return}else if(r<=1114111){i(240|r>>18),i(128|r>>12&63),i(128|r>>6&63),i(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function K0(r,i){for(let e=0;e<r.length;e+=1){let t=r.charCodeAt(e);if(t>55295&&t<=56319){let n=(t-55296)*1024&65535;t=(r.charCodeAt(e+1)-56320&65535|n)+65536,e+=1}G0(t,i)}}function Z0(r,i,e){if(i.utf8seq===0){if(r<=127){e(r);return}for(let t=1;t<6;t+=1)if(!(r>>7-t&1)){i.utf8seq=t;break}if(i.utf8seq===2)i.codepoint=r&31;else if(i.utf8seq===3)i.codepoint=r&15;else if(i.utf8seq===4)i.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|r&63,i.utf8seq-=1,i.utf8seq===0&&e(i.codepoint)}}function Gh(r){let i=[],e={queue:0,queuedBits:0},t=n=>{i.push(n)};for(let n=0;n<r.length;n+=1)qh(r.charCodeAt(n),e,t);return new Uint8Array(i)}function Kh(r){let i=[];return K0(r,e=>i.push(e)),new Uint8Array(i)}function Zh(r){return Math.round(Date.now()/1e3)+r}function Jh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}var mt=()=>typeof window<"u"&&typeof document<"u",Ci={tested:!1,writable:!1},Qt=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ci.tested)return Ci.writable;let r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ci.tested=!0,Ci.writable=!0}catch{Ci.tested=!0,Ci.writable=!1}return Ci.writable};function Qh(r){let i={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((n,o)=>{i[o]=n})}catch{}return e.searchParams.forEach((t,n)=>{i[n]=t}),i}var no=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...e)=>import("./chunk-N2HYM3BR.js").then(({default:t})=>t(...e)):i=fetch,(...e)=>i(...e)},Xh=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Mc=(r,i,e)=>v(void 0,null,function*(){yield r.setItem(i,JSON.stringify(e))}),xn=(r,i)=>v(void 0,null,function*(){let e=yield r.getItem(i);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),En=(r,i)=>v(void 0,null,function*(){yield r.removeItem(i)}),Rn=class r{constructor(){this.promise=new r.promiseConstructor((i,e)=>{this.resolve=i,this.reject=e})}};Rn.promiseConstructor=Promise;function so(r){let i=r.split(".");if(i.length!==3)throw new zt("Invalid JWT structure");for(let t=0;t<i.length;t++)if(!$h.test(i[t]))throw new zt("JWT not in base64url format");return{header:JSON.parse(Tc(i[0])),payload:JSON.parse(Tc(i[1])),signature:Gh(i[2]),raw:{header:i[0],payload:i[1]}}}function ef(r){return v(this,null,function*(){return yield new Promise(i=>{setTimeout(()=>i(null),r)})})}function tf(r,i){return new Promise((t,n)=>{v(this,null,function*(){for(let o=0;o<1/0;o++)try{let c=yield r(o);if(!i(o,null,c)){t(c);return}}catch(c){if(!i(o,c)){n(c);return}}})})}function J0(r){return("0"+r.toString(16)).substr(-2)}function Q0(){let i=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,n="";for(let o=0;o<56;o++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(i),Array.from(i,J0).join("")}function X0(r){return v(this,null,function*(){let e=new TextEncoder().encode(r),t=yield crypto.subtle.digest("SHA-256",e),n=new Uint8Array(t);return Array.from(n).map(o=>String.fromCharCode(o)).join("")})}function ew(r){return v(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;let e=yield X0(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ki(r,i,e=!1){return v(this,null,function*(){let t=Q0(),n=t;e&&(n+="/PASSWORD_RECOVERY"),yield Mc(r,`${i}-code-verifier`,n);let o=yield ew(t);return[o,t===o?"plain":"s256"]})}var tw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rf(r){let i=r.headers.get(Sn);if(!i||!i.match(tw))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function nf(r){if(!r)throw new Error("Missing exp claim");let i=Math.floor(Date.now()/1e3);if(r<=i)throw new Error("JWT has expired")}function sf(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var iw=function(r,i){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&i.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(e[t[n]]=r[t[n]]);return e},Di=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),rw=[502,503,504];function of(r){return v(this,null,function*(){var i;if(!Xh(r))throw new lr(Di(r),0);if(rw.includes(r.status))throw new lr(Di(r),r.status);let e;try{e=yield r.json()}catch(o){throw new ar(Di(o),o)}let t,n=rf(r);if(n&&n.getTime()>=Ic["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?t=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(t=e.error_code),t){if(t==="weak_password")throw new Dn(Di(e),r.status,((i=e.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(t==="session_not_found")throw new ot}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Dn(Di(e),r.status,e.weak_password.reasons);throw new io(Di(e),r.status||500,t)})}var nw=(r,i,e,t)=>{let n={method:r,headers:i?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),n.body=JSON.stringify(t),Object.assign(Object.assign({},n),e))};function H(r,i,e,t){return v(this,null,function*(){var n;let o=Object.assign({},t?.headers);o[Sn]||(o[Sn]=Ic["2024-01-01"].name),t?.jwt&&(o.Authorization=`Bearer ${t.jwt}`);let c=(n=t?.query)!==null&&n!==void 0?n:{};t?.redirectTo&&(c.redirect_to=t.redirectTo);let u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=yield sw(r,i,e+u,{headers:o,noResolveJson:t?.noResolveJson},{},t?.body);return t?.xform?t?.xform(h):{data:Object.assign({},h),error:null}})}function sw(r,i,e,t,n,o){return v(this,null,function*(){let c=nw(i,t,n,o),u;try{u=yield r(e,Object.assign({},c))}catch(h){throw console.error(h),new lr(Di(h),0)}if(u.ok||(yield of(u)),t?.noResolveJson)return u;try{return yield u.json()}catch(h){yield of(h)}})}function Ht(r){var i;let e=null;ow(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=Zh(r.expires_in)));let t=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:e,user:t},error:null}}function Ac(r){let i=Ht(r);return!i.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,t)=>e&&typeof t=="string",!0)&&(i.data.weak_password=r.weak_password),i}function Ct(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function af(r){return{data:r,error:null}}function cf(r){let{action_link:i,email_otp:e,hashed_token:t,redirect_to:n,verification_type:o}=r,c=iw(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:i,email_otp:e,hashed_token:t,redirect_to:n,verification_type:o},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function lf(r){return r}function ow(r){return r.access_token&&r.refresh_token&&r.expires_in}var aw=function(r,i){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&i.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(e[t[n]]=r[t[n]]);return e},dr=class{constructor({url:i="",headers:e={},fetch:t}){this.url=i,this.headers=e,this.fetch=no(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(i,e="global"){return v(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(t){if($(t))return{data:null,error:t};throw t}})}inviteUserByEmail(t){return v(this,arguments,function*(i,e={}){try{return yield H(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Ct})}catch(n){if($(n))return{data:{user:null},error:n};throw n}})}generateLink(i){return v(this,null,function*(){try{let{options:e}=i,t=aw(i,["options"]),n=Object.assign(Object.assign({},t),e);return"newEmail"in t&&(n.new_email=t?.newEmail,delete n.newEmail),yield H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:cf,redirectTo:e?.redirectTo})}catch(e){if($(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(i){return v(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Ct})}catch(e){if($(e))return{data:{user:null},error:e};throw e}})}listUsers(i){return v(this,null,function*(){var e,t,n,o,c,u,h;try{let m={nextPage:null,lastPage:0,total:0},p=yield H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(t=(e=i?.page)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:"",per_page:(o=(n=i?.perPage)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""},xform:lf});if(p.error)throw p.error;let _=yield p.json(),w=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{let T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(S.split(";")[1].split("=")[1]);m[`${I}Page`]=T}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if($(m))return{data:{users:[]},error:m};throw m}})}getUserById(i){return v(this,null,function*(){try{return yield H(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Ct})}catch(e){if($(e))return{data:{user:null},error:e};throw e}})}updateUserById(i,e){return v(this,null,function*(){try{return yield H(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:e,headers:this.headers,xform:Ct})}catch(t){if($(t))return{data:{user:null},error:t};throw t}})}deleteUser(i,e=!1){return v(this,null,function*(){try{return yield H(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:e},xform:Ct})}catch(t){if($(t))return{data:{user:null},error:t};throw t}})}_listFactors(i){return v(this,null,function*(){try{let{data:e,error:t}=yield H(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:e,error:t}}catch(e){if($(e))return{data:null,error:e};throw e}})}_deleteFactor(i){return v(this,null,function*(){try{return{data:yield H(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(e){if($(e))return{data:null,error:e};throw e}})}};var df={getItem:r=>Qt()?globalThis.localStorage.getItem(r):null,setItem:(r,i)=>{Qt()&&globalThis.localStorage.setItem(r,i)},removeItem:r=>{Qt()&&globalThis.localStorage.removeItem(r)}};function Oc(r={}){return{getItem:i=>r[i]||null,setItem:(i,e)=>{r[i]=e},removeItem:i=>{delete r[i]}}}function uf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ri={debug:!!(globalThis&&Qt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},In=class extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}},oo=class extends In{};function Fc(r,i,e){return v(this,null,function*(){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,i);let t=new globalThis.AbortController;return i>0&&setTimeout(()=>{t.abort(),Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},i),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(r,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:t.signal},n=>v(this,null,function*(){if(n){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return yield e()}finally{Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(i===0)throw Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new oo(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ri.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}uf();var cw={url:Lh,storageKey:jh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function hf(r,i,e){return v(this,null,function*(){return yield e()})}var Nc=(()=>{class r{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=r.nextInstanceID,r.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},cw),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new dr({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=no(o.fetch),this.lock=o.lock||hf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:mt()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Fc:this.lock=hf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Qt()?this.storage=df:(this.memoryStorage={},this.storage=Oc(this.memoryStorage)):(this.memoryStorage={},this.storage=Oc(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",c=>v(this,null,function*(){this._debug("received broadcast notification from other tab or client",c),yield this._notifyAllSubscribers(c.data.event,c.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xs}) ${new Date().toISOString()}`,...e),this}initialize(){return v(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=v(this,null,function*(){return yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return v(this,null,function*(){var e;try{let t=Qh(window.location.href),n="none";if(this._isImplicitGrantCallback(t)?n="implicit":(yield this._isPKCECallback(t))&&(n="pkce"),mt()&&this.detectSessionInUrl&&n!=="none"){let{data:o,error:c}=yield this._getSessionFromURL(t,n);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Vh(c)){let m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return yield this._removeSession(),{error:c}}let{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),yield this._saveSession(u),setTimeout(()=>v(this,null,function*(){h==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",u):yield this._notifyAllSubscribers("SIGNED_IN",u)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return $(t)?{error:t}:{error:new ar("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return v(this,null,function*(){var t,n,o;try{let c=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ht}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};let m=u.session,p=u.user;return u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if($(c))return{data:{user:null,session:null},error:c};throw c}})}signUp(e){return v(this,null,function*(){var t,n,o;try{let c;if("email"in e){let{email:_,password:w,options:b}=e,S=null,T=null;this.flowType==="pkce"&&([S,T]=yield ki(this.storage,this.storageKey)),c=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:_,password:w,data:(t=b?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:T},xform:Ht})}else if("phone"in e){let{phone:_,password:w,options:b}=e;c=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:w,data:(n=b?.data)!==null&&n!==void 0?n:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ht})}else throw new bi("You must provide either an email or phone number and a password");let{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};let m=u.session,p=u.user;return u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if($(c))return{data:{user:null,session:null},error:c};throw c}})}signInWithPassword(e){return v(this,null,function*(){try{let t;if("email"in e){let{email:c,password:u,options:h}=e;t=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ac})}else if("phone"in e){let{phone:c,password:u,options:h}=e;t=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ac})}else throw new bi("You must provide either an email or phone number and a password");let{data:n,error:o}=t;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cr}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return v(this,null,function*(){var t,n,o,c;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})})}exchangeCodeForSession(e){return v(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>v(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return v(this,null,function*(){let t=yield xn(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(t??"").split("/");try{let{data:c,error:u}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ht});if(yield En(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new cr}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if($(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}})}signInWithIdToken(e){return v(this,null,function*(){try{let{options:t,provider:n,token:o,access_token:c,nonce:u}=e,h=yield H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Ht}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new cr}:(m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return v(this,null,function*(){var t,n,o,c,u;try{if("email"in e){let{email:h,options:m}=e,p=null,_=null;this.flowType==="pkce"&&([p,_]=yield ki(this.storage,this.storageKey));let{error:w}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=m?.data)!==null&&t!==void 0?t:{},create_user:(n=m?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){let{phone:h,options:m}=e,{data:p,error:_}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:_}}throw new bi("You must provide either an email or phone number.")}catch(h){if($(h))return{data:{user:null,session:null},error:h};throw h}})}verifyOtp(e){return v(this,null,function*(){var t,n;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(n=e.options)===null||n===void 0?void 0:n.captchaToken);let{data:u,error:h}=yield H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Ht});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");let m=u.session,p=u.user;return m?.access_token&&(yield this._saveSession(m),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if($(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return v(this,null,function*(){var t,n,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=yield ki(this.storage,this.storageKey)),yield H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:af})}catch(c){if($(c))return{data:null,error:c};throw c}})}reauthenticate(){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return v(this,null,function*(){try{return yield this._useSession(e=>v(this,null,function*(){let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ot;let{error:o}=yield H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return v(this,null,function*(){try{let t=`${this.url}/resend`;if("email"in e){let{email:n,type:o,options:c}=e,{error:u}=yield H(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){let{phone:n,type:o,options:c}=e,{data:u,error:h}=yield H(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new bi("You must provide either an email or phone number and a type")}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return this._useSession(t=>v(this,null,function*(){return t}))}))})}_acquireLock(e,t){return v(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=v(this,null,function*(){return yield n,yield t()});return this.pendingInLock.push(v(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>v(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let n=t();for(this.pendingInLock.push(v(this,null,function*(){try{yield n}catch{}})),yield n;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return v(this,null,function*(){this._debug("#_useSession","begin");try{let t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return v(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,t=yield xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,_)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,_))})}return{data:{session:e},error:null}}let{session:o,error:c}=yield this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return v(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return v(this,null,function*(){try{return e?yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ct}):yield this._useSession(t=>v(this,null,function*(){var n,o,c;let{data:u,error:h}=t;if(h)throw h;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ct})}))}catch(t){if($(t))return Hh(t)&&(yield this._removeSession(),yield En(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(n){return v(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(n){return v(this,arguments,function*(e,t={}){try{return yield this._useSession(o=>v(this,null,function*(){let{data:c,error:u}=o;if(u)throw u;if(!c.session)throw new ot;let h=c.session,m=null,p=null;this.flowType==="pkce"&&e.email!=null&&([m,p]=yield ki(this.storage,this.storageKey));let{data:_,error:w}=yield H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Ct});if(w)throw w;return h.user=_.user,yield this._saveSession(h),yield this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}}))}catch(o){if($(o))return{data:{user:null},error:o};throw o}})}setSession(e){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return v(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ot;let t=Date.now()/1e3,n=t,o=!0,c=null,{payload:u}=so(e.access_token);if(u.exp&&(n=u.exp,o=n<=t),o){let{session:h,error:m}=yield this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};c=h}else{let{data:h,error:m}=yield this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:n-t,expires_at:n},yield this._saveSession(c),yield this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if($(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return v(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return v(this,null,function*(){try{return yield this._useSession(t=>v(this,null,function*(){var n;if(!e){let{data:u,error:h}=t;if(h)throw h;e=(n=u.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ot;let{session:o,error:c}=yield this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return v(this,null,function*(){try{if(!mt())throw new Si("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Si(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new kn("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Si("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kn("No code detected.");let{data:le,error:Te}=yield this._exchangeCodeForSession(e.code);if(Te)throw Te;let Me=new URL(window.location.href);return Me.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Me.toString()),{data:{session:le.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!u||!p)throw new Si("No session defined in URL");let _=Math.round(Date.now()/1e3),w=parseInt(h),b=_+w;m&&(b=parseInt(m));let S=b-_;S*1e3<=wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);let T=b-w;_-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,b,_):_-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,b,_);let{data:I,error:j}=yield this._getUser(c);if(j)throw j;let ce={provider_token:n,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:b,refresh_token:u,token_type:p,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ce,redirectType:e.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return v(this,null,function*(){let t=yield xn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return v(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return v(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>v(this,null,function*(){var n;let{data:o,error:c}=t;if(c)return{error:c};let u=(n=o.session)===null||n===void 0?void 0:n.access_token;if(u){let{error:h}=yield this.admin.signOut(u,e);if(h&&!(zh(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(yield this._removeSession(),yield En(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let t=Jh(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),v(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:n}}}_emitInitialSession(e){return v(this,null,function*(){return yield this._useSession(t=>v(this,null,function*(){var n,o;try{let{data:{session:c},error:u}=t;if(u)throw u;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",c),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}}))})}resetPasswordForEmail(n){return v(this,arguments,function*(e,t={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=yield ki(this.storage,this.storageKey,!0));try{return yield H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(u){if($(u))return{data:null,error:u};throw u}})}getUserIdentities(){return v(this,null,function*(){var e;try{let{data:t,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if($(t))return{data:null,error:t};throw t}})}linkIdentity(e){return v(this,null,function*(){var t;try{let{data:n,error:o}=yield this._useSession(c=>v(this,null,function*(){var u,h,m,p,_;let{data:w,error:b}=c;if(b)throw b;let S=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return yield H(this.fetch,"GET",S,{headers:this.headers,jwt:(_=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})}));if(o)throw o;return mt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if($(n))return{data:{provider:e.provider,url:null},error:n};throw n}})}unlinkIdentity(e){return v(this,null,function*(){try{return yield this._useSession(t=>v(this,null,function*(){var n,o;let{data:c,error:u}=t;if(u)throw u;return yield H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=c.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})}))}catch(t){if($(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return v(this,null,function*(){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{let n=Date.now();return yield tf(o=>v(this,null,function*(){return o>0&&(yield ef(200*Math.pow(2,o-1))),this._debug(t,"refreshing attempt",o),yield H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})}),(o,c)=>{let u=200*Math.pow(2,o);return c&&ro(c)&&Date.now()+u-n<wi})}catch(n){if(this._debug(t,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return v(this,null,function*(){let n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),mt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return v(this,null,function*(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let n=yield xn(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&(yield this._removeSession());return}let o=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<to;if(this._debug(t,`session has${o?"":" not"} expired with margin of ${to}s`),o){if(this.autoRefreshToken&&n.refresh_token){let{error:c}=yield this._callRefreshToken(n.refresh_token);c&&(console.error(c),ro(c)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",c),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}})}_callRefreshToken(e){return v(this,null,function*(){var t,n;if(!e)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rn;let{data:c,error:u}=yield this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new ot;yield this._saveSession(c.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);let h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),$(c)){let u={session:null,error:c};return ro(c)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,t,n=!0){return v(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let c=[],u=Array.from(this.stateChangeEmitters.values()).map(h=>v(this,null,function*(){try{yield h.callback(e,t)}catch(m){c.push(m)}}));if(yield Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return v(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Mc(this.storage,this.storageKey,e)})}_removeSession(){return v(this,null,function*(){this._debug("#_removeSession()"),yield En(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return v(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>v(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return v(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return v(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return v(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return v(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>v(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(t=>v(this,null,function*(){let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((n.expires_at*1e3-e)/wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${wi}ms, refresh threshold is ${eo} ticks`),o<=eo&&(yield this._callRefreshToken(n.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof In)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return v(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>v(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return v(this,null,function*(){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>v(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,n){return v(this,null,function*(){let o=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){let[c,u]=yield ki(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(n?.queryParams){let c=new URLSearchParams(n.queryParams);o.push(c.toString())}return n?.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return v(this,null,function*(){try{return yield this._useSession(t=>v(this,null,function*(){var n;let{data:o,error:c}=t;return c?{data:null,error:c}:yield H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})}))}catch(t){if($(t))return{data:null,error:t};throw t}})}_enroll(e){return v(this,null,function*(){try{return yield this._useSession(t=>v(this,null,function*(){var n,o;let{data:c,error:u}=t;if(u)return{data:null,error:u};let h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=yield H(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(n=c?.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})}))}catch(t){if($(t))return{data:null,error:t};throw t}})}_verify(e){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){try{return yield this._useSession(t=>v(this,null,function*(){var n;let{data:o,error:c}=t;if(c)return{data:null,error:c};let{data:u,error:h}=yield H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})}))}catch(t){if($(t))return{data:null,error:t};throw t}}))})}_challenge(e){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){try{return yield this._useSession(t=>v(this,null,function*(){var n;let{data:o,error:c}=t;return c?{data:null,error:c}:yield H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token})}))}catch(t){if($(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return v(this,null,function*(){let{data:t,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return v(this,null,function*(){let{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};let n=e?.factors||[],o=n.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=n.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:n,totp:o,phone:c},error:null}})}_getAuthenticatorAssuranceLevel(){return v(this,null,function*(){return this._acquireLock(-1,()=>v(this,null,function*(){return yield this._useSession(e=>v(this,null,function*(){var t,n;let{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:u}=so(o.access_token),h=null;u.aal&&(h=u.aal);let m=h;((n=(t=o.user.factors)===null||t===void 0?void 0:t.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");let _=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:_},error:null}}))}))})}fetchJwk(n){return v(this,arguments,function*(e,t={keys:[]}){let o=t.keys.find(h=>h.kid===e);if(o||(o=this.jwks.keys.find(h=>h.kid===e),o&&this.jwks_cached_at+Bh>Date.now()))return o;let{data:c,error:u}=yield H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!c.keys||c.keys.length===0)throw new zt("JWKS is empty");if(this.jwks=c,this.jwks_cached_at=Date.now(),o=c.keys.find(h=>h.kid===e),!o)throw new zt("No matching signing key found in JWKS");return o})}getClaims(n){return v(this,arguments,function*(e,t={keys:[]}){try{let o=e;if(!o){let{data:T,error:I}=yield this.getSession();if(I||!T.session)return{data:null,error:I};o=T.session.access_token}let{header:c,payload:u,signature:h,raw:{header:m,payload:p}}=so(o);if(nf(u.exp),!c.kid||c.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:T}=yield this.getUser(o);if(T)throw T;return{data:{claims:u,header:c,signature:h},error:null}}let _=sf(c.alg),w=yield this.fetchJwk(c.kid,t),b=yield crypto.subtle.importKey("jwk",w,_,!0,["verify"]);if(!(yield crypto.subtle.verify(_,b,h,Kh(`${m}.${p}`))))throw new zt("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(o){if($(o))return{data:null,error:o};throw o}})}}return r.nextInstanceID=0,r})();var lw=Nc,Pc=lw;var ao=class extends Pc{constructor(i){super(i)}};var dw=function(r,i,e,t){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function u(p){try{m(t.next(p))}catch(_){c(_)}}function h(p){try{m(t.throw(p))}catch(_){c(_)}}function m(p){p.done?o(p.value):n(p.value).then(u,h)}m((t=t.apply(r,i||[])).next())})},co=class{constructor(i,e,t){var n,o,c;if(this.supabaseUrl=i,this.supabaseKey=e,!i)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let u=Nh(i);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;let h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:Mh,realtime:Oh,auth:Object.assign(Object.assign({},Ah),{storageKey:h}),global:Th},p=Ph(t??{},m);this.storageKey=(n=p.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=Fh(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new _h(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new ln(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wn(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,e={},t={}){return this.rest.rpc(i,e,t)}channel(i,e={config:{}}){return this.realtime.channel(i,e)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,e;return dw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:t}=yield this.auth.getSession();return(e=(i=t.session)===null||i===void 0?void 0:i.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:e,detectSessionInUrl:t,storage:n,storageKey:o,flowType:c,lock:u,debug:h},m,p){let _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ao({url:this.authUrl,headers:Object.assign(Object.assign({},_),m),storageKey:o,autoRefreshToken:i,persistSession:e,detectSessionInUrl:t,storage:n,flowType:c,lock:u,debug:h,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new vn(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(i,e,t){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==t?this.changedAccessToken=t:i==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ff=(r,i,e)=>new co(r,i,e);var Lc={production:!1,supabaseUrl:"https://jdfkckuzxofrecysgdhm.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkZmtja3V6eG9mcmVjeXNnZGhtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1MzE5ODAsImV4cCI6MjA2MzEwNzk4MH0._lF6e3MARU4hHNXjOyFtglIKRKw0tVvQreeeWrANeHA"};var mf=(()=>{class r{constructor(){this.supabase=ff(Lc.supabaseUrl,Lc.supabaseKey)}getClient(){return this.supabase}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var hw=(r,i,e)=>({"text-emerald-300":r,"text-rose-300":i,"text-gray-300":e}),jc=(r,i,e)=>({"text-emerald-500":r,"text-rose-500":i,"text-gray-500":e}),Uc=r=>({"!bg-gray-300":r});function fw(r,i){r&1&&(k(0,"th",29),F(1,"Plataforma"),D())}function mw(r,i){if(r&1&&(k(0,"td",30),F(1),D()),r&2){let e=i.$implicit;N(),Ui(e.exchange)}}function pw(r,i){r&1&&(k(0,"th",29),F(1,"Monitor"),D())}function gw(r,i){if(r&1&&(k(0,"td",30),F(1),ke(2,"number"),D()),r&2){let e=i.$implicit;N(),Pe(" ",De(2,1,e.monitor_rate,"1.2-2")," ")}}function _w(r,i){r&1&&(k(0,"th",29),F(1,"Exchange"),D())}function vw(r,i){if(r&1&&(k(0,"td",30),F(1),ke(2,"number"),D()),r&2){let e=i.$implicit;N(),Pe(" ",De(2,1,e.exchange_rate,"1.2-2")," ")}}function yw(r,i){r&1&&(k(0,"th",31),F(1,"Diff"),D())}function ww(r,i){if(r&1&&(k(0,"td",32)(1,"b",11),F(2),ke(3,"number"),ke(4,"number"),D()()),r&2){let e=i.$implicit;pe("ngClass",Nr(10,jc,e.diferencia>0,e.diferencia<0,e.diferencia===0)),N(2),Fr("",e.diferencia>0?"\u25B2":e.diferencia<0?"\u25BC":"="," ",De(3,4,e.diferencia,"1.2-2")," / ",De(4,7,e.diferencia_porcentaje,"1.2-2"),"% ")}}function bw(r,i){r&1&&ve(0,"tr",33)}function Sw(r,i){if(r&1&&ve(0,"tr",34),r&2){let e=i.$implicit;pe("ngClass",os(1,Uc,e.exchange==="Total"))}}function Cw(r,i){r&1&&(k(0,"th",29),F(1,"Plataforma"),D())}function kw(r,i){if(r&1&&(k(0,"td",30),F(1),D()),r&2){let e=i.$implicit;N(),Ui(e.exchange)}}function Dw(r,i){r&1&&(k(0,"th",29),F(1,"Actual"),D())}function Rw(r,i){if(r&1&&(k(0,"td",30),F(1),ke(2,"number"),D()),r&2){let e=i.$implicit;N(),Pe(" ",De(2,1,e.current_rate,"1.2-2")," ")}}function xw(r,i){r&1&&(k(0,"th",29),F(1,"Anterior"),D())}function Ew(r,i){if(r&1&&(k(0,"td",30),F(1),ke(2,"number"),D()),r&2){let e=i.$implicit;N(),Pe(" ",De(2,1,e.previous_rate,"1.2-2")," ")}}function Iw(r,i){r&1&&(k(0,"th",31),F(1,"Diff"),D())}function Tw(r,i){if(r&1&&(k(0,"td",32)(1,"b",35),F(2),ke(3,"number"),ke(4,"number"),D()()),r&2){let e=i.$implicit;pe("ngClass",Nr(10,jc,e.diferencia>0,e.diferencia<0,e.diferencia===0)),N(2),Fr("",e.diferencia>0?"\u25B2":e.diferencia<0?"\u25BC":"="," ",De(3,4,e.diferencia,"1.2-2")," / ",De(4,7,e.diferencia_porcentaje,"1.2-2"),"% ")}}function Mw(r,i){r&1&&ve(0,"tr",33)}function Aw(r,i){if(r&1&&ve(0,"tr",34),r&2){let e=i.$implicit;pe("ngClass",os(1,Uc,e.exchange==="Total"))}}function Ow(r,i){if(r&1&&(k(0,"div",36)(1,"div",37),F(2),D()()),r&2){let e=ji();N(2),Pe("\xDAltima actualizaci\xF3n: ",e.monitorComparisons[0].last_update.format("dddd HH:mm"),"")}}function Fw(r,i){r&1&&(k(0,"th",29),F(1,"Exchange"),D())}function Nw(r,i){if(r&1&&(k(0,"td",30),F(1),D()),r&2){let e=i.$implicit;N(),Ui(e.exchange)}}function Pw(r,i){r&1&&(k(0,"th",29),F(1,"Tasa Actual"),D())}function Lw(r,i){if(r&1&&(k(0,"td",30),F(1),ke(2,"number"),D()),r&2){let e=i.$implicit;N(),Pe(" ",De(2,1,e.current_rate,"1.2-2")," ")}}function jw(r,i){r&1&&(k(0,"th",29),F(1,"Tasa Anterior"),D())}function Uw(r,i){if(r&1&&(k(0,"td",30),F(1),ke(2,"number"),D()),r&2){let e=i.$implicit;N(),Pe(" ",De(2,1,e.previous_rate,"1.2-2")," ")}}function $w(r,i){r&1&&(k(0,"th",31),F(1,"Diferencia VES"),D())}function Bw(r,i){if(r&1&&(k(0,"td",32)(1,"b",35),F(2),ke(3,"number"),ke(4,"number"),D()()),r&2){let e=i.$implicit;pe("ngClass",Nr(10,jc,e.diferencia>0,e.diferencia<0,e.diferencia===0)),N(2),Fr("",e.diferencia>0?"\u25B2":e.diferencia<0?"\u25BC":"="," ",De(3,4,e.diferencia,"1.2-2")," / ",De(4,7,e.diferencia_porcentaje,"1.2-2"),"% ")}}function zw(r,i){r&1&&ve(0,"tr",33)}function Hw(r,i){if(r&1&&ve(0,"tr",34),r&2){let e=i.$implicit;pe("ngClass",os(1,Uc,e.exchange==="Total"))}}function Vw(r,i){if(r&1&&(k(0,"div",36)(1,"div",37),F(2),D()()),r&2){let e=ji();N(2),Pe("\xDAltima actualizaci\xF3n: ",e.exchangeComparisons[0].last_update.format("dddd HH:mm"),"")}}var pf=(()=>{class r{constructor(e){this.supabaseService=e,this.exchangeRates=[],this.monitorRates=[],this.combinedRates=[],this.exchangeComparisons=[],this.monitorComparisons=[],this.displayedColumns=["exchange","monitor_rate","exchange_rate","diferencia"],this.exchangeColumns=["exchange","previous_rate","current_rate","diferencia"],this.monitorColumns=["exchange","previous_rate","current_rate","diferencia"],ur.default.locale("es")}ngOnInit(){return v(this,null,function*(){yield this.loadExchangeRates(),yield this.loadMonitorRates(),this.combineRates(),this.processExchangeRates(),this.processMonitorRates()})}loadExchangeRates(){return v(this,null,function*(){let{data:e,error:t}=yield this.supabaseService.getClient().from("exchange_rates").select("*").order("created_at",{ascending:!1}).limit(2);if(t){console.error("Error cargando exchange rates:",t);return}this.exchangeRates=e||[]})}loadMonitorRates(){return v(this,null,function*(){let{data:e,error:t}=yield this.supabaseService.getClient().from("monitor_rates").select("*").order("datetime",{ascending:!1}).limit(2);if(t){console.error("Error cargando monitor rates:",t);return}this.monitorRates=e||[]})}calculateDifference(e,t){let n=Number((e-t).toFixed(2)),o=t!==0?Number((n/t*100).toFixed(2)):0;return{diferencia:n,diferencia_porcentaje:o}}processExchangeRates(){if(this.exchangeRates.length<2)return;let e=this.exchangeRates[0],t=this.exchangeRates[1],n=(0,ur.default)(e.created_at),o=(c,u,h)=>se(E({exchange:h,current_rate:c||0,previous_rate:u||0},this.calculateDifference(c||0,u||0)),{last_update:n});this.exchangeComparisons=[o(e.total_rate,t.total_rate,"Total"),o(e.eldorado_rate,t.eldorado_rate,"Binance"),o(e.eldorado_rate,t.eldorado_rate,"Eldorado"),o(e.syklo_rate,t.syklo_rate,"Syklo"),o(e.yadio_rate,t.yadio_rate,"Yadio")]}processMonitorRates(){if(this.monitorRates.length<2)return;let e=this.monitorRates[0],t=this.monitorRates[1],n=(0,ur.default)(e.datetime),o=(c,u,h)=>se(E({exchange:h,current_rate:c||0,previous_rate:u||0},this.calculateDifference(c||0,u||0)),{last_update:n});this.monitorComparisons=[o(e.total_rate,t.total_rate,"Total"),o(e.yadio_rate,t.yadio_rate,"Yadio"),o(e.eldorado_rate,t.eldorado_rate,"CambiosRya"),o(e.eldorado_rate,t.eldorado_rate,"Airtm"),o(e.eldorado_rate,t.eldorado_rate,"Usdtbnbvzla"),o(e.eldorado_rate,t.eldorado_rate,"Syklo"),o(e.eldorado_rate,t.eldorado_rate,"Mkfrontera"),o(e.eldorado_rate,t.eldorado_rate,"Billeterap2p"),o(e.eldorado_rate,t.eldorado_rate,"Eldorado")]}combineRates(){if(this.exchangeRates.length===0||this.monitorRates.length===0)return;let e=this.exchangeRates[0],t=this.monitorRates[0],n=(0,ur.default)(e.created_at),o=(0,ur.default)(t.datetime),c=(u,h)=>{let m=Math.abs(u.diff(h,"minutes"));if(m<60)return`${m} minutos`;let p=Math.floor(m/60),_=m%60;return _===0?`${p} hora${p!==1?"s":""}`:`${p} hora${p!==1?"s":""} y ${_} minuto${_!==1?"s":""}`};this.combinedRates=[se(E({exchange:"Total",exchange_rate:e.total_rate||0,monitor_rate:t.total_rate||0},this.calculateDifference(e.total_rate||0,t.total_rate||0)),{last_update_exchange:n,last_update_monitor:o,tiempo_diferencia:c(n,o)}),se(E({exchange:"Eldorado",exchange_rate:e.eldorado_rate||0,monitor_rate:t.eldorado_rate||0},this.calculateDifference(e.eldorado_rate||0,t.eldorado_rate||0)),{last_update_exchange:n,last_update_monitor:o,tiempo_diferencia:c(n,o)}),se(E({exchange:"Syklo",exchange_rate:e.syklo_rate||0,monitor_rate:t.syklo_rate||0},this.calculateDifference(e.syklo_rate||0,t.syklo_rate||0)),{last_update_exchange:n,last_update_monitor:o,tiempo_diferencia:c(n,o)}),se(E({exchange:"Yadio",exchange_rate:e.yadio_rate||0,monitor_rate:t.yadio_rate||0},this.calculateDifference(e.yadio_rate||0,t.yadio_rate||0)),{last_update_exchange:n,last_update_monitor:o,tiempo_diferencia:c(n,o)})]}static{this.\u0275fac=function(t){return new(t||r)(A(mf))}}static{this.\u0275cmp=X({type:r,selectors:[["app-inicio"]],standalone:!0,features:[ee],decls:98,vars:36,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","md:text-3xl","font-bold","mb-6","text-gray-800"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-5"],[1,"w-full"],[1,"min-h-full","shadow-md","!p-4","md:!p-6"],[1,"!p-0"],[1,"flex","justify-between","items-start","w-full","mb-4"],[1,"text-sm","md:text-"],[1,"text-sm","md:text-sm"],[1,"text-base"],[1,"font-bold","py-2","px-3","rounded-md","!bg-blue-950",3,"ngClass"],[1,"font-extrabold",2,"white-space","nowrap"],[1,"w-full","max-h-64","overflow-y-auto"],["mat-table","",1,"w-full","!bg-transparent",3,"dataSource"],["matColumnDef","exchange"],["mat-header-cell","","class","!border-gray-300 font-semibold bg-gray-50 !text-sm md:!text-sm",4,"matHeaderCellDef"],["mat-cell","","class","!border-gray-300 py-3 !text-sm md:!text-sm",4,"matCellDef"],["matColumnDef","monitor_rate"],["matColumnDef","exchange_rate"],["matColumnDef","diferencia"],["mat-header-cell","","class","!border-gray-300 font-bold bg-gray-50 !text-sm md:!text-sm",4,"matHeaderCellDef"],["mat-cell","","class","py-3 !border-gray-300 !text-sm md:!text-sm",3,"ngClass",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-200 transition-colors !h-10",3,"ngClass",4,"matRowDef","matRowDefColumns"],[1,"font-bold","py-2","px-3","rounded-md","bg-blue-950","text-white"],["mat-table","",1,"w-full","!bg-transparent","max-h-64",3,"dataSource"],["matColumnDef","current_rate"],["matColumnDef","previous_rate"],["class","flex justify-end gap-2 mt-5 text-xs md:text-sm",4,"ngIf"],["mat-header-cell","",1,"!border-gray-300","font-semibold","bg-gray-50","!text-sm","md:!text-sm"],["mat-cell","",1,"!border-gray-300","py-3","!text-sm","md:!text-sm"],["mat-header-cell","",1,"!border-gray-300","font-bold","bg-gray-50","!text-sm","md:!text-sm"],["mat-cell","",1,"py-3","!border-gray-300","!text-sm","md:!text-sm",3,"ngClass"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-200","transition-colors","!h-10",3,"ngClass"],[2,"white-space","nowrap"],[1,"flex","justify-end","gap-2","mt-5","text-xs","md:text-sm"],[1,"text-gray-600"]],template:function(t,n){t&1&&(k(0,"div",0)(1,"h1",1),F(2,"Dashboard de Tasas de Cambio"),D(),k(3,"div",2)(4,"div",3)(5,"mat-card",4)(6,"mat-card-header",5)(7,"div",6)(8,"mat-card-title",7)(9,"div"),F(10,"Comparativa"),D(),k(11,"div",8),F(12),D()(),k(13,"div",9)(14,"div",10)(15,"b",11),F(16),ke(17,"number"),ke(18,"number"),D()()()()(),k(19,"mat-card-content",5)(20,"div",12)(21,"table",13),Fe(22,14),oe(23,fw,2,0,"th",15)(24,mw,2,1,"td",16),Ne(),Fe(25,17),oe(26,pw,2,0,"th",15)(27,gw,3,4,"td",16),Ne(),Fe(28,18),oe(29,_w,2,0,"th",15)(30,vw,3,4,"td",16),Ne(),Fe(31,19),oe(32,yw,2,0,"th",20)(33,ww,5,14,"td",21),Ne(),oe(34,bw,1,0,"tr",22)(35,Sw,1,3,"tr",23),D()()()()(),k(36,"div",3)(37,"mat-card",4)(38,"mat-card-header",5)(39,"div",6)(40,"mat-card-title")(41,"div"),F(42,"Monitor Rates"),D(),k(43,"div",8),F(44),D()(),k(45,"div",9)(46,"div",24),F(47),ke(48,"number"),D()()()(),k(49,"mat-card-content",5)(50,"div",12)(51,"table",25),Fe(52,14),oe(53,Cw,2,0,"th",15)(54,kw,2,1,"td",16),Ne(),Fe(55,26),oe(56,Dw,2,0,"th",15)(57,Rw,3,4,"td",16),Ne(),Fe(58,27),oe(59,xw,2,0,"th",15)(60,Ew,3,4,"td",16),Ne(),Fe(61,19),oe(62,Iw,2,0,"th",20)(63,Tw,5,14,"td",21),Ne(),oe(64,Mw,1,0,"tr",22)(65,Aw,1,3,"tr",23),D()()(),oe(66,Ow,3,1,"div",28),D()(),k(67,"div",3)(68,"mat-card",4)(69,"mat-card-header",5)(70,"div",6)(71,"mat-card-title")(72,"div"),F(73,"Exchange Rates"),D(),k(74,"div",8),F(75),D()(),k(76,"div",9)(77,"div",24),F(78),ke(79,"number"),D()()()(),k(80,"mat-card-content",5)(81,"div",12)(82,"table",13),Fe(83,14),oe(84,Fw,2,0,"th",15)(85,Nw,2,1,"td",16),Ne(),Fe(86,26),oe(87,Pw,2,0,"th",15)(88,Lw,3,4,"td",16),Ne(),Fe(89,27),oe(90,jw,2,0,"th",15)(91,Uw,3,4,"td",16),Ne(),Fe(92,19),oe(93,$w,2,0,"th",20)(94,Bw,5,14,"td",21),Ne(),oe(95,zw,1,0,"tr",22)(96,Hw,1,3,"tr",23),D()()(),oe(97,Vw,3,1,"div",28),D()()()()),t&2&&(N(12),Pe("Diferencia: ",n.combinedRates[0].tiempo_diferencia,""),N(2),pe("ngClass",Nr(32,hw,n.combinedRates[0].diferencia>0,n.combinedRates[0].diferencia<0,n.combinedRates[0].diferencia===0)),N(2),Fr("",n.combinedRates[0].diferencia>0?"\u25B2":n.combinedRates[0].diferencia<0?"\u25BC":"="," ",De(17,20,n.combinedRates[0].diferencia,"1.2-2")," / ",De(18,23,n.combinedRates[0].diferencia_porcentaje,"1.2-2"),"% "),N(5),pe("dataSource",n.combinedRates),N(13),pe("matHeaderRowDef",n.displayedColumns),N(),pe("matRowDefColumns",n.displayedColumns),N(9),Ui(n.monitorComparisons[0].last_update.format("dddd HH:mm")),N(3),Pe(" Bs. ",De(48,26,n.monitorComparisons[0].current_rate,"1.2-2")," "),N(4),pe("dataSource",n.monitorComparisons),N(13),pe("matHeaderRowDef",n.monitorColumns),N(),pe("matRowDefColumns",n.monitorColumns),N(),pe("ngIf",n.monitorComparisons.length>0),N(9),Ui(n.exchangeComparisons[0].last_update.format("dddd HH:mm")),N(3),Pe(" Bs. ",De(79,29,n.exchangeComparisons[0].current_rate,"1.2-2")," "),N(4),pe("dataSource",n.exchangeComparisons),N(13),pe("matHeaderRowDef",n.exchangeColumns),N(),pe("matRowDefColumns",n.exchangeColumns),N(),pe("ngIf",n.exchangeComparisons.length>0))},dependencies:[Gu,ju,$u,Vu,Bu,Uu,Yu,zu,Hu,Wu,qu,Xu,Ku,Ju,Qu,Zu,eh,ci,ad,cd,ld],styles:[".mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0 7px}"]})}}return r})();var gf=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["app-historico"]],standalone:!0,features:[ee],decls:3,vars:0,consts:[[1,"text-2xl","font-bold","mb-4"]],template:function(t,n){t&1&&(k(0,"div")(1,"h1",0),F(2,"Hist\xF3rico"),D()())},encapsulation:2})}}return r})();var _f=[{path:"",component:lu,children:[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"inicio",component:pf},{path:"historico",component:gf}]}];var Yw="@",Ww=(()=>{class r{constructor(e,t,n,o,c){this.doc=e,this.delegate=t,this.zone=n,this.animationType=o,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=O(Kl,{optional:!0}),this.loadingSchedulerFn=O(qw,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-NHOOIHIG.js").then(n=>n),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(n=>{throw new ue(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let c=new o(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,t){let n=this.delegate.createRenderer(e,t);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new $c(n);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let u=c.createRenderer(e,t);o.use(u),this.scheduler?.notify(10)}).catch(c=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(t){qo()}}static{this.\u0275prov=B({token:r,factory:r.\u0275fac})}}return r})(),$c=class{constructor(i){this.delegate=i,this.replay=[],this.\u0275type=1}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,t,n){this.delegate.insertBefore(i,e,t,n)}removeChild(i,e,t){this.delegate.removeChild(i,e,t)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,n){this.delegate.setAttribute(i,e,t,n)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,n){this.delegate.setStyle(i,e,t,n)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(i,e,t)),this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t){return this.shouldReplay(e)&&this.replay.push(n=>n.listen(i,e,t)),this.delegate.listen(i,e,t)}shouldReplay(i){return this.replay!==null&&i.startsWith(Yw)}},qw=new Q("");function vf(r="animations"){return Jl("NgAsyncAnimations"),xr([{provide:ns,useFactory:(i,e,t)=>new Ww(i,e,t,r),deps:[ae,ds,me]},{provide:Wo,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var yf={providers:[id({eventCoalescing:!0}),au(_f),vf()]};var wf=(()=>{class r{constructor(){this.title="monitor-dolar"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=X({type:r,selectors:[["app-root"]],standalone:!0,features:[ee],decls:1,vars:0,template:function(t,n){t&1&&ve(0,"router-outlet")},dependencies:[rn]})}}return r})();Cd(wf,yf).catch(r=>console.error(r));
